<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE QuasiQuotes #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-comment">{- |
Module      : NITTA.Model.ProcessorUnits.Types
Description : Set of types for process unit description
Copyright   : (c) Aleksandr Penskoi, 2021
License     : BSD3
Maintainer  : aleksandr.penskoi@gmail.com
Stability   : experimental
-}</span><span>
</span><span id="line-16"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">NITTA.Model.ProcessorUnits.Types</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Processor unit</span></span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#UnitTag"><span class="hs-identifier">UnitTag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ProcessorUnit"><span class="hs-identifier">ProcessorUnit</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#bind"><span class="hs-identifier">bind</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#allowToProcess"><span class="hs-identifier">allowToProcess</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#NextTick"><span class="hs-identifier">NextTick</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ParallelismType"><span class="hs-identifier">ParallelismType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Process description</span></span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier">Process</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ProcessStepID"><span class="hs-identifier">ProcessStepID</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier">Step</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier">StepInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Relation"><span class="hs-identifier">Relation</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#descent"><span class="hs-identifier">descent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#whatsHappen"><span class="hs-identifier">whatsHappen</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#extractInstructionAt"><span class="hs-identifier">extractInstructionAt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#withShift"><span class="hs-identifier">withShift</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#isRefactorStep"><span class="hs-identifier">isRefactorStep</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#isAllocationStep"><span class="hs-identifier">isAllocationStep</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Control</span></span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Controllable"><span class="hs-identifier">Controllable</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#SignalTag"><span class="hs-identifier">SignalTag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#UnambiguouslyDecode"><span class="hs-identifier">UnambiguouslyDecode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Connected"><span class="hs-identifier">Connected</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ByTime"><span class="hs-identifier">ByTime</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#SignalValue"><span class="hs-identifier">SignalValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#%2B%2B%2B"><span class="hs-operator">(+++)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><span class="hs-comment">-- * IO</span></span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#IOConnected"><span class="hs-identifier">IOConnected</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InputPortTag"><span class="hs-identifier">InputPortTag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#OutputPortTag"><span class="hs-identifier">OutputPortTag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InoutPortTag"><span class="hs-identifier">InoutPortTag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ToJSON</span></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Default</span></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Either</span></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.Utils</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">replace</span></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.String</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.String.Interpolate</span></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.String.ToString</span></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html"><span class="hs-identifier">NITTA.Intermediate.Types</span></a></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.Problems.Endpoint.html"><span class="hs-identifier">NITTA.Model.Problems.Endpoint</span></a></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.Time.html"><span class="hs-identifier">NITTA.Model.Time</span></a></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Numeric.Interval.NonEmpty</span></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Numeric.Interval.NonEmpty</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">I</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter</span></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-comment">-- | Class for processor unit tag or &quot;name&quot;</span><span>
</span><span id="line-76"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621680378443"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680378443"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToString</span></span><span> </span><span class="annot"><a href="#local-6989586621680378443"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsString</span></span><span> </span><span class="annot"><a href="#local-6989586621680378443"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621680378443"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="UnitTag"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#UnitTag"><span class="hs-identifier hs-var">UnitTag</span></a></span></span><span> </span><span id="local-6989586621680378443"><span class="annot"><a href="#local-6989586621680378443"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-comment">-- | Whether the value can be used as a template or not</span><span>
</span><span id="line-78"></span><span>    </span><span id="isTemplate"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#isTemplate"><span class="hs-identifier hs-type">isTemplate</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680378443"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-comment">-- | Create tag from the template and index</span><span>
</span><span id="line-81"></span><span>    </span><span id="fromTemplate"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#fromTemplate"><span class="hs-identifier hs-type">fromTemplate</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680378443"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680378443"><span class="hs-identifier hs-type">tag</span></a></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#UnitTag"><span class="hs-identifier hs-type">UnitTag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-84"></span><span>    </span><span id="local-6989586621680377656"><span class="annot"><span class="annottext">isTemplate :: Text -&gt; Bool
</span><a href="#local-6989586621680377656"><span class="hs-identifier hs-var hs-var hs-var hs-var">isTemplate</span></a></span></span><span> </span><span id="local-6989586621680377655"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680377655"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
</span><span class="hs-identifier hs-var">T.isInfixOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{x}&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680377655"><span class="hs-identifier hs-var">tag</span></a></span><span>
</span><span id="line-85"></span><span>    </span><span id="local-6989586621680377652"><span class="annot"><span class="annottext">fromTemplate :: Text -&gt; String -&gt; Text
</span><a href="#local-6989586621680377652"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromTemplate</span></a></span></span><span> </span><span id="local-6989586621680377651"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680377651"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span id="local-6989586621680377650"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680377650"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text -&gt; Text
</span><span class="hs-identifier hs-var">T.replace</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{x}&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680377650"><span class="hs-identifier hs-var">index</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680377651"><span class="hs-identifier hs-var">tag</span></a></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#UnitTag"><span class="hs-identifier hs-type">UnitTag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-88"></span><span>    </span><span id="local-6989586621680377624"><span class="annot"><span class="annottext">isTemplate :: String -&gt; Bool
</span><a href="#local-6989586621680377624"><span class="hs-identifier hs-var hs-var hs-var hs-var">isTemplate</span></a></span></span><span> </span><span id="local-6989586621680377623"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680377623"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{x}&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><span class="hs-operator hs-var">`L.isInfixOf`</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680377623"><span class="hs-identifier hs-var">tag</span></a></span><span>
</span><span id="line-89"></span><span>    </span><span id="local-6989586621680377620"><span class="annot"><span class="annottext">fromTemplate :: String -&gt; String -&gt; String
</span><a href="#local-6989586621680377620"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromTemplate</span></a></span></span><span> </span><span id="local-6989586621680377619"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680377619"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span id="local-6989586621680377618"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680377618"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">replace</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{x}&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680377618"><span class="hs-identifier hs-var">index</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680377619"><span class="hs-identifier hs-var">tag</span></a></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-comment">-- | Processor unit parallelism type</span><span>
</span><span id="line-92"></span><span id="local-6989586621680377616"><span id="local-6989586621680377617"></span></span><span class="hs-keyword">data</span><span> </span><span id="ParallelismType"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ParallelismType"><span class="hs-identifier hs-var">ParallelismType</span></a></span></span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- | All operations can be performed in parallel mode</span><span>
</span><span id="line-94"></span><span>      </span><span id="Full"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Full"><span class="hs-identifier hs-var">Full</span></a></span></span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | All operations can be performed in pipeline mode</span><span>
</span><span id="line-96"></span><span>      </span><span id="Pipeline"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Pipeline"><span class="hs-identifier hs-var">Pipeline</span></a></span></span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | Other processor units</span><span>
</span><span id="line-98"></span><span>      </span><span id="None"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#None"><span class="hs-identifier hs-var">None</span></a></span></span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680377607"><span id="local-6989586621680377609"><span id="local-6989586621680377611"><span class="annot"><span class="annottext">ProcessStepID -&gt; ParallelismType -&gt; String -&gt; String
[ParallelismType] -&gt; String -&gt; String
ParallelismType -&gt; String
forall a.
(ProcessStepID -&gt; a -&gt; String -&gt; String)
-&gt; (a -&gt; String) -&gt; ([a] -&gt; String -&gt; String) -&gt; Show a
showList :: [ParallelismType] -&gt; String -&gt; String
$cshowList :: [ParallelismType] -&gt; String -&gt; String
show :: ParallelismType -&gt; String
$cshow :: ParallelismType -&gt; String
showsPrec :: ProcessStepID -&gt; ParallelismType -&gt; String -&gt; String
$cshowsPrec :: ProcessStepID -&gt; ParallelismType -&gt; String -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall x. Rep ParallelismType x -&gt; ParallelismType
forall x. ParallelismType -&gt; Rep ParallelismType x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep ParallelismType x -&gt; ParallelismType
$cfrom :: forall x. ParallelismType -&gt; Rep ParallelismType x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680377599"><span id="local-6989586621680377601"><span class="annot"><span class="annottext">ParallelismType -&gt; ParallelismType -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ParallelismType -&gt; ParallelismType -&gt; Bool
$c/= :: ParallelismType -&gt; ParallelismType -&gt; Bool
== :: ParallelismType -&gt; ParallelismType -&gt; Bool
$c== :: ParallelismType -&gt; ParallelismType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680377590"><span id="local-6989586621680377592"><span id="local-6989586621680377594"><span id="local-6989586621680377596"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ParallelismType"><span class="hs-identifier hs-type">ParallelismType</span></a></span></span></span></span></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">{- | Process unit - part of NITTA process with can execute a function from
intermediate representation:

1. get function for execution ('tryBind');

2. store computational process description ('process');

3. other features implemented by different type classes (see above and in
   &quot;NITTA.Model.Problems&quot;).
-}</span><span>
</span><span id="line-113"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="NITTA.Model.Time.html#VarValTime"><span class="hs-identifier hs-type">VarValTime</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378427"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378426"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378425"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ProcessorUnit"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ProcessorUnit"><span class="hs-identifier hs-var">ProcessorUnit</span></a></span></span><span> </span><span id="local-6989586621680378428"><span class="annot"><a href="#local-6989586621680378428"><span class="hs-identifier hs-type">u</span></a></span></span><span> </span><span id="local-6989586621680378427"><span class="annot"><a href="#local-6989586621680378427"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680378426"><span class="annot"><a href="#local-6989586621680378426"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621680378425"><span class="annot"><a href="#local-6989586621680378425"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621680378428"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680378427"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378426"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378425"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-comment">-- If the processor unit can execute a function, then it will return the PU</span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-comment">-- model with already bound function (only registeration, actual scheduling</span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-comment">-- will be happening later). If not, it will return @Left@ value with a</span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-comment">-- specific reason (e.g., not support or all internal resources is over).</span><span>
</span><span id="line-118"></span><span>    </span><span id="tryBind"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#tryBind"><span class="hs-identifier hs-type">tryBind</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378427"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378426"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680378428"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="#local-6989586621680378428"><span class="hs-identifier hs-type">u</span></a></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-comment">-- Get a computational process description. If the processor unit embedded</span><span>
</span><span id="line-121"></span><span>    </span><span class="hs-comment">-- another PUs (like &quot;NITTA.Model.Networks.Bus&quot;), the description should</span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-comment">-- contain process steps for all PUs.</span><span>
</span><span id="line-123"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-124"></span><span>    </span><span class="hs-comment">-- 'ProcessStepID' may change from one call to another.</span><span>
</span><span id="line-125"></span><span>    </span><span id="process"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#process"><span class="hs-identifier hs-type">process</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680378428"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378425"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378427"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378426"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378425"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-comment">-- | Indicates what type of parallelism is supported by 'ProcessorUnit'</span><span>
</span><span id="line-128"></span><span>    </span><span id="parallelismType"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#parallelismType"><span class="hs-identifier hs-type">parallelismType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680378428"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ParallelismType"><span class="hs-identifier hs-type">ParallelismType</span></a></span><span>
</span><span id="line-129"></span><span>    </span><span id="local-6989586621680377583"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#parallelismType"><span class="hs-identifier hs-var hs-var">parallelismType</span></a></span><span> </span><span class="annot"><span class="annottext">u
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParallelismType
</span><a href="NITTA.Model.ProcessorUnits.Types.html#None"><span class="hs-identifier hs-var">None</span></a></span></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-comment">-- | Provide the processor unit size. At the moment it's just the number of subprocessors</span><span>
</span><span id="line-132"></span><span>    </span><span id="puSize"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#puSize"><span class="hs-identifier hs-type">puSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680378428"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span>
</span><span id="line-133"></span><span>    </span><span id="local-6989586621680377581"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#puSize"><span class="hs-identifier hs-var hs-var">puSize</span></a></span><span> </span><span class="annot"><span class="annottext">u
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float
</span><span class="hs-number">1</span></span></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span id="bind"><span class="annot"><span class="annottext">bind :: F v x -&gt; u -&gt; u
</span><a href="NITTA.Model.ProcessorUnits.Types.html#bind"><span class="hs-identifier hs-var hs-var">bind</span></a></span></span><span> </span><span id="local-6989586621680377575"><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680377575"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680377574"><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621680377574"><span class="hs-identifier hs-var">pu</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall u v x t.
ProcessorUnit u v x t =&gt;
F v x -&gt; u -&gt; Either String u
</span><a href="NITTA.Model.ProcessorUnits.Types.html#tryBind"><span class="hs-identifier hs-var">tryBind</span></a></span><span> </span><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680377575"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621680377574"><span class="hs-identifier hs-var">pu</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-136"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621680377573"><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621680377573"><span class="hs-identifier hs-var">pu'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621680377573"><span class="hs-identifier hs-var">pu'</span></a></span><span>
</span><span id="line-137"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621680377572"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680377572"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;can't bind function: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680377572"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span id="allowToProcess"><span class="annot"><span class="annottext">allowToProcess :: F v x -&gt; b -&gt; Bool
</span><a href="NITTA.Model.ProcessorUnits.Types.html#allowToProcess"><span class="hs-identifier hs-var hs-var">allowToProcess</span></a></span></span><span> </span><span id="local-6989586621680377568"><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680377568"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680377567"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680377567"><span class="hs-identifier hs-var">pu</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. Either a b -&gt; Bool
</span><span class="hs-identifier hs-var">isRight</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall u v x t.
ProcessorUnit u v x t =&gt;
F v x -&gt; u -&gt; Either String u
</span><a href="NITTA.Model.ProcessorUnits.Types.html#tryBind"><span class="hs-identifier hs-var">tryBind</span></a></span><span> </span><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680377568"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680377567"><span class="hs-identifier hs-var">pu</span></a></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-keyword">class</span><span> </span><span id="NextTick"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#NextTick"><span class="hs-identifier hs-var">NextTick</span></a></span></span><span> </span><span id="local-6989586621680378404"><span class="annot"><a href="#local-6989586621680378404"><span class="hs-identifier hs-type">u</span></a></span></span><span> </span><span id="local-6989586621680378403"><span class="annot"><a href="#local-6989586621680378403"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621680378404"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680378403"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-142"></span><span>    </span><span id="nextTick"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#nextTick"><span class="hs-identifier hs-type">nextTick</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680378404"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680378403"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680378394"><span id="local-6989586621680378395"><span id="local-6989586621680378396"><span id="local-6989586621680378397"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ProcessorUnit"><span class="hs-identifier hs-type">ProcessorUnit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378397"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378396"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378395"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378394"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#NextTick"><span class="hs-identifier hs-type">NextTick</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378397"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378394"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-145"></span><span>    </span><span id="local-6989586621680377557"><span class="annot"><span class="annottext">nextTick :: u -&gt; t
</span><a href="#local-6989586621680377557"><span class="hs-identifier hs-var hs-var hs-var hs-var">nextTick</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall u t. NextTick u t =&gt; u -&gt; t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#nextTick"><span class="hs-identifier hs-var">nextTick</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall u v x t.
ProcessorUnit u v x t =&gt;
u -&gt; Process t (StepInfo v x t)
</span><a href="NITTA.Model.ProcessorUnits.Types.html#process"><span class="hs-identifier hs-var">process</span></a></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="hs-comment">---------------------------------------------------------------------</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">{- | Computational process description. It was designed in ISO 15926 style, with
separated data and relations storage.
-}</span><span>
</span><span id="line-152"></span><span id="local-6989586621680377554"><span id="local-6989586621680377555"></span></span><span class="hs-keyword">data</span><span> </span><span id="Process"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-var">Process</span></a></span></span><span> </span><span id="local-6989586621680378386"><span class="annot"><a href="#local-6989586621680378386"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621680378385"><span class="annot"><a href="#local-6989586621680378385"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Process"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-var">Process</span></a></span></span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="steps"><span class="annot"><span class="annottext">forall t i. Process t i -&gt; [Step t i]
</span><a href="NITTA.Model.ProcessorUnits.Types.html#steps"><span class="hs-identifier hs-var hs-var">steps</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378386"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378385"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-comment">-- ^ All process steps desctiption.</span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="relations"><span class="annot"><span class="annottext">forall t i. Process t i -&gt; [Relation]
</span><a href="NITTA.Model.ProcessorUnits.Types.html#relations"><span class="hs-identifier hs-var hs-var">relations</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Relation"><span class="hs-identifier hs-type">Relation</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-comment">-- ^ List of relationships between process steps (see 'Relation').</span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="nextTick_"><span class="annot"><span class="annottext">forall t i. Process t i -&gt; t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#nextTick_"><span class="hs-identifier hs-var hs-var">nextTick_</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680378386"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-comment">-- ^ Next tick for instruction. Note: instruction /= endpoint.</span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="nextUid"><span class="annot"><span class="annottext">forall t i. Process t i -&gt; ProcessStepID
</span><a href="NITTA.Model.ProcessorUnits.Types.html#nextUid"><span class="hs-identifier hs-var hs-var">nextUid</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ProcessStepID"><span class="hs-identifier hs-type">ProcessStepID</span></a></span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-comment">-- ^ Next process step ID</span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall t i x. Rep (Process t i) x -&gt; Process t i
forall t i x. Process t i -&gt; Rep (Process t i) x
$cto :: forall t i x. Rep (Process t i) x -&gt; Process t i
$cfrom :: forall t i x. Process t i -&gt; Rep (Process t i) x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680377544"><span id="local-6989586621680378371"><span id="local-6989586621680378372"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.Time.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378372"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621680378371"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378372"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378371"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-165"></span><span>    </span><span id="local-6989586621680377499"><span class="annot"><span class="annottext">pretty :: forall ann. Process t i -&gt; Doc ann
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></span></span><span> </span><span id="local-6989586621680377497"><span class="annot"><span class="annottext">Process t i
</span><a href="#local-6989586621680377497"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-166"></span><span>        </span><span class="annot"><span class="">[__i|
            Process:
                steps: #{ showList' $ reverse $ steps p }
                relations: #{ showList' $ relations p }
                nextTick: #{ nextTick p }
                nextUid: #{ nextUid p }
        |]</span></span><span>
</span><span id="line-173"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-174"></span><span>            </span><span id="local-6989586621680377496"><span class="annot"><span class="annottext">showList' :: [src] -&gt; Doc ann
</span><a href="#local-6989586621680377496"><span class="hs-identifier hs-var hs-var">showList'</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-175"></span><span>            </span><span class="annot"><a href="#local-6989586621680377496"><span class="hs-identifier hs-var">showList'</span></a></span><span> </span><span id="local-6989586621680377468"><span class="annot"><span class="annottext">[src]
</span><a href="#local-6989586621680377468"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann
</span><span class="hs-identifier hs-var">line</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. ProcessStepID -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">indent</span></span><span> </span><span class="annot"><span class="annottext">ProcessStepID
</span><span class="hs-number">8</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann]
</span><a href="#local-6989586621680377464"><span class="hs-identifier hs-var">lst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>                </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>                    </span><span id="local-6989586621680377464"><span class="annot"><span class="annottext">lst :: [Doc ann]
</span><a href="#local-6989586621680377464"><span class="hs-identifier hs-var hs-var">lst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-178"></span><span>                        </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680377463"><span class="annot"><span class="annottext">ProcessStepID
</span><a href="#local-6989586621680377463"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680377462"><span class="annot"><span class="annottext">src
</span><a href="#local-6989586621680377462"><span class="hs-identifier hs-var">value</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="">[i|#{ ix }) #{ value }|]</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-179"></span><span>                            </span><span class="annot"><span class="annottext">forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ProcessStepID
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">..</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[src]
</span><a href="#local-6989586621680377468"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680377454"><span id="local-6989586621680377456"><span id="local-6989586621680377458"><span id="local-6989586621680377460"><span id="local-6989586621680378327"><span id="local-6989586621680378328"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621680378328"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621680378327"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378328"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378327"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680378321"><span id="local-6989586621680378322"><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="annot"><a href="#local-6989586621680378322"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378322"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378321"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-184"></span><span>    </span><span id="local-6989586621680377446"><span class="annot"><span class="annottext">def :: Process t i
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">steps :: [Step t i]
</span><a href="NITTA.Model.ProcessorUnits.Types.html#steps"><span class="hs-identifier hs-var">steps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">relations :: [Relation]
</span><a href="NITTA.Model.ProcessorUnits.Types.html#relations"><span class="hs-identifier hs-var">relations</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">nextTick_ :: t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#nextTick_"><span class="hs-identifier hs-var">nextTick_</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">nextUid :: ProcessStepID
</span><a href="NITTA.Model.ProcessorUnits.Types.html#nextUid"><span class="hs-identifier hs-var">nextUid</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span class="hs-special">}</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621680378392"><span id="local-6989586621680378393"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#NextTick"><span class="hs-identifier hs-type">NextTick</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378393"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378392"><span class="hs-identifier hs-type">si</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680378393"><span class="hs-identifier hs-type">t</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621680377443"><span class="annot"><span class="annottext">nextTick :: Process t si -&gt; t
</span><a href="#local-6989586621680377443"><span class="hs-identifier hs-var hs-var hs-var hs-var">nextTick</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall t i. Process t i -&gt; t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#nextTick_"><span class="hs-identifier hs-var">nextTick_</span></a></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680378310"><span id="local-6989586621680378311"><span id="local-6989586621680378312"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680378312"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#WithFunctions"><span class="hs-identifier hs-type">WithFunctions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378312"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378311"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378310"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378312"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378311"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378310"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-190"></span><span>    </span><span id="local-6989586621680377437"><span class="annot"><span class="annottext">functions :: Process t (StepInfo v x t) -&gt; [F v x]
</span><a href="NITTA.Intermediate.Types.html#functions"><span class="hs-identifier hs-var hs-var hs-var hs-var">functions</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span class="hs-special">{</span><span id="local-6989586621680377435"><span class="annot"><span class="annottext">[Step t (StepInfo v x t)]
steps :: [Step t (StepInfo v x t)]
steps :: forall t i. Process t i -&gt; [Step t i]
</span><a href="#local-6989586621680377435"><span class="hs-identifier hs-var hs-var">steps</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">forall {t} {v} {x} {t}. Step t (StepInfo v x t) -&gt; Maybe (F v x)
</span><a href="#local-6989586621680377433"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall b a. Ord b =&gt; (a -&gt; b) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">L.sortOn</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Interval a -&gt; a
</span><span class="hs-identifier hs-var">I.inf</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall t i. Step t i -&gt; Interval t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#pInterval"><span class="hs-identifier hs-var">pInterval</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Step t (StepInfo v x t)]
</span><a href="#local-6989586621680377435"><span class="hs-identifier hs-var">steps</span></a></span><span>
</span><span id="line-191"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>            </span><span id="local-6989586621680377433"><span class="annot"><span class="annottext">get :: Step t (StepInfo v x t) -&gt; Maybe (F v x)
</span><a href="#local-6989586621680377433"><span class="hs-identifier hs-var hs-var">get</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span class="hs-special">{</span><span id="local-6989586621680377428"><span class="annot"><span class="annottext">StepInfo v x t
pDesc :: forall t i. Step t i -&gt; i
pDesc :: StepInfo v x t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#pDesc"><span class="hs-identifier hs-var hs-var">pDesc</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#IntermediateStep"><span class="hs-identifier hs-type">IntermediateStep</span></a></span><span> </span><span id="local-6989586621680377425"><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680377425"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall {v} {x} {t}. StepInfo v x t -&gt; StepInfo v x t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#descent"><span class="hs-identifier hs-var">descent</span></a></span><span> </span><span class="annot"><span class="annottext">StepInfo v x t
</span><a href="#local-6989586621680377428"><span class="hs-identifier hs-var">pDesc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680377425"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-193"></span><span>            </span><span class="annot"><a href="#local-6989586621680377433"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">Step t (StepInfo v x t)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-comment">-- | Unique ID of a process step. Uniquity presented only inside PU.</span><span>
</span><span id="line-196"></span><span class="hs-keyword">type</span><span> </span><span id="ProcessStepID"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ProcessStepID"><span class="hs-identifier hs-var">ProcessStepID</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="hs-comment">-- | Process step representation</span><span>
</span><span id="line-199"></span><span id="local-6989586621680377423"><span id="local-6989586621680377424"></span></span><span class="hs-keyword">data</span><span> </span><span id="Step"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-var">Step</span></a></span></span><span> </span><span id="local-6989586621680378352"><span class="annot"><a href="#local-6989586621680378352"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621680378351"><span class="annot"><a href="#local-6989586621680378351"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Step"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-var">Step</span></a></span></span><span>
</span><span id="line-200"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="pID"><span class="annot"><span class="annottext">forall t i. Step t i -&gt; ProcessStepID
</span><a href="NITTA.Model.ProcessorUnits.Types.html#pID"><span class="hs-identifier hs-var hs-var">pID</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ProcessStepID"><span class="hs-identifier hs-type">ProcessStepID</span></a></span><span>
</span><span id="line-201"></span><span>    </span><span class="hs-comment">-- ^ uniq (inside single the process unit) step ID</span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pInterval"><span class="annot"><span class="annottext">forall t i. Step t i -&gt; Interval t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#pInterval"><span class="hs-identifier hs-var hs-var">pInterval</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Interval</span></span><span> </span><span class="annot"><a href="#local-6989586621680378352"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-comment">-- ^ step time</span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pDesc"><span class="annot"><span class="annottext">forall t i. Step t i -&gt; i
</span><a href="NITTA.Model.ProcessorUnits.Types.html#pDesc"><span class="hs-identifier hs-var hs-var">pDesc</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680378351"><span class="hs-identifier hs-type">i</span></a></span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-comment">-- ^ step description</span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680377410"><span id="local-6989586621680377412"><span id="local-6989586621680377420"><span class="annot"><span class="annottext">ProcessStepID -&gt; Step t i -&gt; String -&gt; String
forall a.
(ProcessStepID -&gt; a -&gt; String -&gt; String)
-&gt; (a -&gt; String) -&gt; ([a] -&gt; String -&gt; String) -&gt; Show a
forall t i.
(Show t, Show i) =&gt;
ProcessStepID -&gt; Step t i -&gt; String -&gt; String
forall t i. (Show t, Show i) =&gt; [Step t i] -&gt; String -&gt; String
forall t i. (Show t, Show i) =&gt; Step t i -&gt; String
showList :: [Step t i] -&gt; String -&gt; String
$cshowList :: forall t i. (Show t, Show i) =&gt; [Step t i] -&gt; String -&gt; String
show :: Step t i -&gt; String
$cshow :: forall t i. (Show t, Show i) =&gt; Step t i -&gt; String
showsPrec :: ProcessStepID -&gt; Step t i -&gt; String -&gt; String
$cshowsPrec :: forall t i.
(Show t, Show i) =&gt;
ProcessStepID -&gt; Step t i -&gt; String -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall t i x. Rep (Step t i) x -&gt; Step t i
forall t i x. Step t i -&gt; Rep (Step t i) x
$cto :: forall t i x. Rep (Step t i) x -&gt; Step t i
$cfrom :: forall t i x. Step t i -&gt; Rep (Step t i) x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680377400"><span id="local-6989586621680377402"><span id="local-6989586621680377404"><span id="local-6989586621680377406"><span id="local-6989586621680378287"><span id="local-6989586621680378288"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621680378288"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621680378287"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378288"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378287"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680378277"><span id="local-6989586621680378278"><span id="local-6989586621680378279"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680378279"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378278"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378279"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378277"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378278"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#Changeset"><span class="hs-identifier hs-type">Changeset</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378279"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-212"></span><span>    </span><span id="local-6989586621680377393"><span class="annot"><span class="annottext">patch :: Changeset v -&gt; Step t (StepInfo v x t) -&gt; Step t (StepInfo v x t)
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680377391"><span class="annot"><span class="annottext">Changeset v
</span><a href="#local-6989586621680377391"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span id="local-6989586621680377390"><span class="annot"><span class="annottext">step :: Step t (StepInfo v x t)
</span><a href="#local-6989586621680377390"><span class="hs-identifier hs-var">step</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span class="hs-special">{</span><span id="local-6989586621680377389"><span class="annot"><span class="annottext">StepInfo v x t
pDesc :: StepInfo v x t
pDesc :: forall t i. Step t i -&gt; i
</span><a href="#local-6989586621680377389"><span class="hs-identifier hs-var hs-var">pDesc</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Step t (StepInfo v x t)
</span><a href="#local-6989586621680377390"><span class="hs-identifier hs-var">step</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pDesc :: StepInfo v x t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#pDesc"><span class="hs-identifier hs-var">pDesc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">Changeset v
</span><a href="#local-6989586621680377391"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">StepInfo v x t
</span><a href="#local-6989586621680377389"><span class="hs-identifier hs-var">pDesc</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="hs-comment">-- | Informative process step description at a specific process level.</span><span>
</span><span id="line-215"></span><span class="hs-keyword">data</span><span> </span><span id="StepInfo"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-var">StepInfo</span></a></span></span><span> </span><span id="local-6989586621680377388"><span class="annot"><a href="#local-6989586621680377388"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680377387"><span class="annot"><a href="#local-6989586621680377387"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621680377386"><span class="annot"><a href="#local-6989586621680377386"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-216"></span><span>    </span><span class="hs-comment">-- | CAD level step</span><span>
</span><span id="line-217"></span><span>    </span><span id="local-6989586621680377383"><span id="local-6989586621680377384"><span id="local-6989586621680377385"><span id="CADStep"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#CADStep"><span class="hs-identifier hs-var">CADStep</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377385"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377384"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377383"><span class="hs-identifier hs-type">t</span></a></span></span></span></span><span>
</span><span id="line-218"></span><span>    </span><span class="hs-comment">-- | Apply refactoring</span><span>
</span><span id="line-219"></span><span>    </span><span id="local-6989586621680377378"><span id="local-6989586621680377379"><span id="local-6989586621680377380"><span id="local-6989586621680377381"><span id="RefactorStep"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#RefactorStep"><span class="hs-identifier hs-var">RefactorStep</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621680377381"><span class="hs-identifier hs-type">ref</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621680377381"><span class="hs-identifier hs-type">ref</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621680377381"><span class="hs-identifier hs-type">ref</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680377381"><span class="hs-identifier hs-type">ref</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377380"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377379"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377378"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span><span>
</span><span id="line-220"></span><span>    </span><span class="hs-comment">-- | intermidiate level step (function execution)</span><span>
</span><span id="line-221"></span><span>    </span><span id="local-6989586621680378232"><span id="local-6989586621680378233"><span id="local-6989586621680378234"><span id="IntermediateStep"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#IntermediateStep"><span class="hs-identifier hs-var">IntermediateStep</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378234"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378233"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378234"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378233"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378232"><span class="hs-identifier hs-type">t</span></a></span></span></span></span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-comment">-- | endpoint level step (source or target)</span><span>
</span><span id="line-223"></span><span>    </span><span id="local-6989586621680378229"><span id="local-6989586621680378230"><span id="local-6989586621680378231"><span id="EndpointRoleStep"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#EndpointRoleStep"><span class="hs-identifier hs-var">EndpointRoleStep</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.Problems.Endpoint.html#EndpointRole"><span class="hs-identifier hs-type">EndpointRole</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378231"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378231"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378230"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378229"><span class="hs-identifier hs-type">t</span></a></span></span></span></span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-comment">-- | process unit instruction (depends on process unit type)</span><span>
</span><span id="line-225"></span><span>    </span><span id="local-6989586621680377372"><span id="local-6989586621680377373"><span id="local-6989586621680377374"><span id="local-6989586621680377375"><span id="InstructionStep"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InstructionStep"><span class="hs-identifier hs-var">InstructionStep</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-226"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Instruction"><span class="hs-identifier hs-type">Instruction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377375"><span class="hs-identifier hs-type">pu</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Instruction"><span class="hs-identifier hs-type">Instruction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377375"><span class="hs-identifier hs-type">pu</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-227"></span><span>        </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Instruction"><span class="hs-identifier hs-type">Instruction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377375"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-228"></span><span>        </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377374"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377373"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377372"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span><span>
</span><span id="line-229"></span><span>    </span><span class="hs-comment">-- | wrapper for nested process unit step (used for networks)</span><span>
</span><span id="line-230"></span><span>    </span><span id="local-6989586621680377370"><span id="local-6989586621680378271"><span id="local-6989586621680378272"><span id="local-6989586621680378273"><span id="NestedStep"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#NestedStep"><span class="hs-identifier hs-var">NestedStep</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#UnitTag"><span class="hs-identifier hs-type">UnitTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377370"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">{</span><span id="nTitle"><span class="annot"><span class="annottext">()
</span><a href="NITTA.Model.ProcessorUnits.Types.html#nTitle"><span class="hs-identifier hs-var hs-var">nTitle</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680377370"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">,</span><span> </span><span id="nStep"><span class="annot"><span class="annottext">forall t v x. StepInfo v x t -&gt; Step t (StepInfo v x t)
</span><a href="NITTA.Model.ProcessorUnits.Types.html#nStep"><span class="hs-identifier hs-var hs-var">nStep</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378271"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378273"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378272"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378271"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378273"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378272"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378271"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-comment">-- | Process unit allocation step</span><span>
</span><span id="line-232"></span><span>    </span><span id="local-6989586621680377362"><span id="local-6989586621680377363"><span id="local-6989586621680377364"><span id="local-6989586621680377365"><span id="AllocationStep"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#AllocationStep"><span class="hs-identifier hs-var">AllocationStep</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621680377365"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621680377365"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621680377365"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680377365"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377364"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377363"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377362"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span id="descent"><span class="annot"><span class="annottext">descent :: StepInfo v x t -&gt; StepInfo v x t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#descent"><span class="hs-identifier hs-var hs-var">descent</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#NestedStep"><span class="hs-identifier hs-type">NestedStep</span></a></span><span> </span><span class="annot"><span class="annottext">tag
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680377359"><span class="annot"><span class="annottext">Step t (StepInfo v x t)
</span><a href="#local-6989586621680377359"><span class="hs-identifier hs-var">step</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StepInfo v x t -&gt; StepInfo v x t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#descent"><span class="hs-identifier hs-var">descent</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall t i. Step t i -&gt; i
</span><a href="NITTA.Model.ProcessorUnits.Types.html#pDesc"><span class="hs-identifier hs-var">pDesc</span></a></span><span> </span><span class="annot"><span class="annottext">Step t (StepInfo v x t)
</span><a href="#local-6989586621680377359"><span class="hs-identifier hs-var">step</span></a></span><span>
</span><span id="line-235"></span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#descent"><span class="hs-identifier hs-var">descent</span></a></span><span> </span><span id="local-6989586621680377358"><span class="annot"><span class="annottext">StepInfo v x t
</span><a href="#local-6989586621680377358"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StepInfo v x t
</span><a href="#local-6989586621680377358"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span id="isRefactorStep"><span class="annot"><span class="annottext">isRefactorStep :: StepInfo v x t -&gt; Bool
</span><a href="NITTA.Model.ProcessorUnits.Types.html#isRefactorStep"><span class="hs-identifier hs-var hs-var">isRefactorStep</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#RefactorStep"><span class="hs-identifier hs-type">RefactorStep</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-238"></span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#isRefactorStep"><span class="hs-identifier hs-var">isRefactorStep</span></a></span><span> </span><span class="annot"><span class="annottext">StepInfo v x t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span id="isAllocationStep"><span class="annot"><span class="annottext">isAllocationStep :: StepInfo v x t -&gt; Bool
</span><a href="NITTA.Model.ProcessorUnits.Types.html#isAllocationStep"><span class="hs-identifier hs-var hs-var">isAllocationStep</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#AllocationStep"><span class="hs-identifier hs-type">AllocationStep</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-241"></span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#isAllocationStep"><span class="hs-identifier hs-var">isAllocationStep</span></a></span><span> </span><span class="annot"><span class="annottext">StepInfo v x t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680377347"><span id="local-6989586621680377350"><span id="local-6989586621680378254"><span id="local-6989586621680378255"><span id="local-6989586621680378256"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378256"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378255"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378256"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378254"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378255"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378256"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378254"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378255"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-244"></span><span>    </span><span id="local-6989586621680377342"><span class="annot"><span class="annottext">show :: StepInfo v x t -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#CADStep"><span class="hs-identifier hs-type">CADStep</span></a></span><span> </span><span id="local-6989586621680377340"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680377340"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CAD: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680377340"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-245"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#AllocationStep"><span class="hs-identifier hs-type">AllocationStep</span></a></span><span> </span><span id="local-6989586621680377334"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680377334"><span class="hs-identifier hs-var">alloc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Allocation: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680377334"><span class="hs-identifier hs-var">alloc</span></a></span><span>
</span><span id="line-246"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#RefactorStep"><span class="hs-identifier hs-type">RefactorStep</span></a></span><span> </span><span id="local-6989586621680377328"><span class="annot"><span class="annottext">ref
</span><a href="#local-6989586621680377328"><span class="hs-identifier hs-var">ref</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Refactor: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">ref
</span><a href="#local-6989586621680377328"><span class="hs-identifier hs-var">ref</span></a></span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#IntermediateStep"><span class="hs-identifier hs-type">IntermediateStep</span></a></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span class="hs-special">{</span><span id="local-6989586621680377316"><span class="annot"><span class="annottext">f
fun :: ()
fun :: f
</span><a href="NITTA.Intermediate.Types.html#fun"><span class="hs-identifier hs-var hs-var">fun</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Intermediate: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680377316"><span class="hs-identifier hs-var">fun</span></a></span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#EndpointRoleStep"><span class="hs-identifier hs-type">EndpointRoleStep</span></a></span><span> </span><span id="local-6989586621680377314"><span class="annot"><span class="annottext">EndpointRole v
</span><a href="#local-6989586621680377314"><span class="hs-identifier hs-var">eff</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Endpoint: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">EndpointRole v
</span><a href="#local-6989586621680377314"><span class="hs-identifier hs-var">eff</span></a></span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InstructionStep"><span class="hs-identifier hs-type">InstructionStep</span></a></span><span> </span><span id="local-6989586621680377309"><span class="annot"><span class="annottext">Instruction pu
</span><a href="#local-6989586621680377309"><span class="hs-identifier hs-var">instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Instruction: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Instruction pu
</span><a href="#local-6989586621680377309"><span class="hs-identifier hs-var">instr</span></a></span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#NestedStep"><span class="hs-identifier hs-type">NestedStep</span></a></span><span class="hs-special">{</span><span id="local-6989586621680377301"><span class="annot"><span class="annottext">tag
nTitle :: tag
nTitle :: ()
</span><a href="#local-6989586621680377301"><span class="hs-identifier hs-var hs-var">nTitle</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">nStep :: forall t v x. StepInfo v x t -&gt; Step t (StepInfo v x t)
</span><a href="NITTA.Model.ProcessorUnits.Types.html#nStep"><span class="hs-identifier hs-var">nStep</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span class="hs-special">{</span><span id="local-6989586621680377300"><span class="annot"><span class="annottext">StepInfo v x t
pDesc :: StepInfo v x t
pDesc :: forall t i. Step t i -&gt; i
</span><a href="#local-6989586621680377300"><span class="hs-identifier hs-var hs-var">pDesc</span></a></span></span><span class="hs-special">}</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. ToString a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">toString</span></span><span> </span><span class="annot"><span class="annottext">tag
</span><a href="#local-6989586621680377301"><span class="hs-identifier hs-var">nTitle</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">StepInfo v x t
</span><a href="#local-6989586621680377300"><span class="hs-identifier hs-var">pDesc</span></a></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680378274"><span id="local-6989586621680378275"><span id="local-6989586621680378276"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680378276"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378276"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378275"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378274"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#Changeset"><span class="hs-identifier hs-type">Changeset</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378276"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-253"></span><span>    </span><span id="local-6989586621680377292"><span class="annot"><span class="annottext">patch :: Changeset v -&gt; StepInfo v x t -&gt; StepInfo v x t
</span><a href="#local-6989586621680377292"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680377291"><span class="annot"><span class="annottext">Changeset v
</span><a href="#local-6989586621680377291"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#IntermediateStep"><span class="hs-identifier hs-type">IntermediateStep</span></a></span><span> </span><span id="local-6989586621680377290"><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680377290"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall v x t. F v x -&gt; StepInfo v x t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#IntermediateStep"><span class="hs-identifier hs-var">IntermediateStep</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">Changeset v
</span><a href="#local-6989586621680377291"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680377290"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span id="local-6989586621680377289"><span class="annot"><span class="annottext">Changeset v
</span><a href="#local-6989586621680377289"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#EndpointRoleStep"><span class="hs-identifier hs-type">EndpointRoleStep</span></a></span><span> </span><span id="local-6989586621680377288"><span class="annot"><span class="annottext">EndpointRole v
</span><a href="#local-6989586621680377288"><span class="hs-identifier hs-var">ep</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall v x t. EndpointRole v -&gt; StepInfo v x t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#EndpointRoleStep"><span class="hs-identifier hs-var">EndpointRoleStep</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">Changeset v
</span><a href="#local-6989586621680377289"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">EndpointRole v
</span><a href="#local-6989586621680377288"><span class="hs-identifier hs-var">ep</span></a></span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span id="local-6989586621680377287"><span class="annot"><span class="annottext">Changeset v
</span><a href="#local-6989586621680377287"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#NestedStep"><span class="hs-identifier hs-type">NestedStep</span></a></span><span> </span><span id="local-6989586621680377283"><span class="annot"><span class="annottext">tag
</span><a href="#local-6989586621680377283"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span id="local-6989586621680377282"><span class="annot"><span class="annottext">Step t (StepInfo v x t)
</span><a href="#local-6989586621680377282"><span class="hs-identifier hs-var">nStep</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tag t v x.
UnitTag tag =&gt;
tag -&gt; Step t (StepInfo v x t) -&gt; StepInfo v x t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#NestedStep"><span class="hs-identifier hs-var">NestedStep</span></a></span><span> </span><span class="annot"><span class="annottext">tag
</span><a href="#local-6989586621680377283"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">Changeset v
</span><a href="#local-6989586621680377287"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">Step t (StepInfo v x t)
</span><a href="#local-6989586621680377282"><span class="hs-identifier hs-var">nStep</span></a></span><span>
</span><span id="line-256"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">Changeset v
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680377281"><span class="annot"><span class="annottext">StepInfo v x t
</span><a href="#local-6989586621680377281"><span class="hs-identifier hs-var">instr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StepInfo v x t
</span><a href="#local-6989586621680377281"><span class="hs-identifier hs-var">instr</span></a></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span class="hs-comment">-- | Relations between process steps.</span><span>
</span><span id="line-259"></span><span id="local-6989586621680377279"><span id="local-6989586621680377280"></span></span><span class="hs-keyword">data</span><span> </span><span id="Relation"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Relation"><span class="hs-identifier hs-var">Relation</span></a></span></span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">{- | Vertical relationships (up and down). For example, the intermediate
      step (function execution) can be translated to a sequence of endpoint
      steps (receiving and sending variable), and process unit instructions.
      -}</span><span>
</span><span id="line-264"></span><span>      </span><span id="Vertical"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Vertical"><span class="hs-identifier hs-var">Vertical</span></a></span></span><span> </span><span class="hs-special">{</span><span id="vUp"><span class="annot"><span class="annottext">Relation -&gt; ProcessStepID
</span><a href="NITTA.Model.ProcessorUnits.Types.html#vUp"><span class="hs-identifier hs-var hs-var">vUp</span></a></span></span><span class="hs-special">,</span><span> </span><span id="vDown"><span class="annot"><span class="annottext">Relation -&gt; ProcessStepID
</span><a href="NITTA.Model.ProcessorUnits.Types.html#vDown"><span class="hs-identifier hs-var hs-var">vDown</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ProcessStepID"><span class="hs-identifier hs-type">ProcessStepID</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">{- | Horizontal relationships (on one level). For example, we bind the
      function and apply the refactoring. The binding step should be
      connected to refactoring steps, including new binding steps.
      -}</span><span>
</span><span id="line-269"></span><span>      </span><span id="Horizontal"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Horizontal"><span class="hs-identifier hs-var">Horizontal</span></a></span></span><span> </span><span class="hs-special">{</span><span id="hPrev"><span class="annot"><span class="annottext">Relation -&gt; ProcessStepID
</span><a href="NITTA.Model.ProcessorUnits.Types.html#hPrev"><span class="hs-identifier hs-var hs-var">hPrev</span></a></span></span><span class="hs-special">,</span><span> </span><span id="hNext"><span class="annot"><span class="annottext">Relation -&gt; ProcessStepID
</span><a href="NITTA.Model.ProcessorUnits.Types.html#hNext"><span class="hs-identifier hs-var hs-var">hNext</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ProcessStepID"><span class="hs-identifier hs-type">ProcessStepID</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-270"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680377261"><span id="local-6989586621680377263"><span id="local-6989586621680377271"><span class="annot"><span class="annottext">ProcessStepID -&gt; Relation -&gt; String -&gt; String
[Relation] -&gt; String -&gt; String
Relation -&gt; String
forall a.
(ProcessStepID -&gt; a -&gt; String -&gt; String)
-&gt; (a -&gt; String) -&gt; ([a] -&gt; String -&gt; String) -&gt; Show a
showList :: [Relation] -&gt; String -&gt; String
$cshowList :: [Relation] -&gt; String -&gt; String
show :: Relation -&gt; String
$cshow :: Relation -&gt; String
showsPrec :: ProcessStepID -&gt; Relation -&gt; String -&gt; String
$cshowsPrec :: ProcessStepID -&gt; Relation -&gt; String -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall x. Rep Relation x -&gt; Relation
forall x. Relation -&gt; Rep Relation x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Relation x -&gt; Relation
$cfrom :: forall x. Relation -&gt; Rep Relation x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680377232"><span id="local-6989586621680377234"><span id="local-6989586621680377237"><span id="local-6989586621680377240"><span id="local-6989586621680377243"><span id="local-6989586621680377249"><span id="local-6989586621680377255"><span class="annot"><span class="annottext">Eq Relation
Relation -&gt; Relation -&gt; Bool
Relation -&gt; Relation -&gt; Ordering
Relation -&gt; Relation -&gt; Relation
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Relation -&gt; Relation -&gt; Relation
$cmin :: Relation -&gt; Relation -&gt; Relation
max :: Relation -&gt; Relation -&gt; Relation
$cmax :: Relation -&gt; Relation -&gt; Relation
&gt;= :: Relation -&gt; Relation -&gt; Bool
$c&gt;= :: Relation -&gt; Relation -&gt; Bool
&gt; :: Relation -&gt; Relation -&gt; Bool
$c&gt; :: Relation -&gt; Relation -&gt; Bool
&lt;= :: Relation -&gt; Relation -&gt; Bool
$c&lt;= :: Relation -&gt; Relation -&gt; Bool
&lt; :: Relation -&gt; Relation -&gt; Bool
$c&lt; :: Relation -&gt; Relation -&gt; Bool
compare :: Relation -&gt; Relation -&gt; Ordering
$ccompare :: Relation -&gt; Relation -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680377222"><span id="local-6989586621680377229"><span class="annot"><span class="annottext">Relation -&gt; Relation -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Relation -&gt; Relation -&gt; Bool
$c/= :: Relation -&gt; Relation -&gt; Bool
== :: Relation -&gt; Relation -&gt; Bool
$c== :: Relation -&gt; Relation -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680377214"><span id="local-6989586621680377216"><span id="local-6989586621680377218"><span id="local-6989586621680377220"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Relation"><span class="hs-identifier hs-type">Relation</span></a></span></span></span></span></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span id="whatsHappen"><span class="annot"><span class="annottext">whatsHappen :: a -&gt; Process a i -&gt; [Step a i]
</span><a href="NITTA.Model.ProcessorUnits.Types.html#whatsHappen"><span class="hs-identifier hs-var hs-var">whatsHappen</span></a></span></span><span> </span><span id="local-6989586621680377211"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680377211"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span class="hs-special">{</span><span id="local-6989586621680377210"><span class="annot"><span class="annottext">[Step a i]
steps :: [Step a i]
steps :: forall t i. Process t i -&gt; [Step t i]
</span><a href="#local-6989586621680377210"><span class="hs-identifier hs-var hs-var">steps</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {a}. Ord a =&gt; a -&gt; Interval a -&gt; Bool
</span><a href="#local-6989586621680377209"><span class="hs-identifier hs-var">atSameTime</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680377211"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall t i. Step t i -&gt; Interval t
</span><a href="NITTA.Model.ProcessorUnits.Types.html#pInterval"><span class="hs-identifier hs-var">pInterval</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Step a i]
</span><a href="#local-6989586621680377210"><span class="hs-identifier hs-var">steps</span></a></span><span>
</span><span id="line-275"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-276"></span><span>        </span><span id="local-6989586621680377209"><span class="annot"><span class="annottext">atSameTime :: a -&gt; Interval a -&gt; Bool
</span><a href="#local-6989586621680377209"><span class="hs-identifier hs-var hs-var">atSameTime</span></a></span></span><span> </span><span id="local-6989586621680377206"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680377206"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680377205"><span class="annot"><span class="annottext">Interval a
</span><a href="#local-6989586621680377205"><span class="hs-identifier hs-var">ti</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680377206"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall {a}. Ord a =&gt; a -&gt; Interval a -&gt; Bool
</span><span class="hs-operator hs-var">`member`</span></span><span> </span><span class="annot"><span class="annottext">Interval a
</span><a href="#local-6989586621680377205"><span class="hs-identifier hs-var">ti</span></a></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span id="extractInstructionAt"><span class="annot"><span class="annottext">extractInstructionAt :: u -&gt; t -&gt; [Instruction u]
</span><a href="NITTA.Model.ProcessorUnits.Types.html#extractInstructionAt"><span class="hs-identifier hs-var hs-var">extractInstructionAt</span></a></span></span><span> </span><span id="local-6989586621680377193"><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621680377193"><span class="hs-identifier hs-var">pu</span></a></span></span><span> </span><span id="local-6989586621680377192"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680377192"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pu t v x.
Typeable (Instruction pu) =&gt;
pu -&gt; Step t (StepInfo v x t) -&gt; Maybe (Instruction pu)
</span><a href="#local-6989586621680377191"><span class="hs-identifier hs-var">inst</span></a></span><span> </span><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621680377193"><span class="hs-identifier hs-var">pu</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall {a} {i}. Ord a =&gt; a -&gt; Process a i -&gt; [Step a i]
</span><a href="NITTA.Model.ProcessorUnits.Types.html#whatsHappen"><span class="hs-identifier hs-var">whatsHappen</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680377192"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall u v x t.
ProcessorUnit u v x t =&gt;
u -&gt; Process t (StepInfo v x t)
</span><a href="NITTA.Model.ProcessorUnits.Types.html#process"><span class="hs-identifier hs-var">process</span></a></span><span> </span><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621680377193"><span class="hs-identifier hs-var">pu</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-280"></span><span>        </span><span id="local-6989586621680378214"><span id="local-6989586621680378215"><span id="local-6989586621680378216"><span id="local-6989586621680378217"><span class="annot"><a href="#local-6989586621680377191"><span class="hs-identifier hs-type">inst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Instruction"><span class="hs-identifier hs-type">Instruction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378217"><span class="hs-identifier hs-type">pu</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680378217"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378216"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#StepInfo"><span class="hs-identifier hs-type">StepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378215"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378214"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378216"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Instruction"><span class="hs-identifier hs-type">Instruction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378217"><span class="hs-identifier hs-type">pu</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-281"></span><span>        </span><span id="local-6989586621680377191"><span class="annot"><span class="annottext">inst :: forall pu t v x.
Typeable (Instruction pu) =&gt;
pu -&gt; Step t (StepInfo v x t) -&gt; Maybe (Instruction pu)
</span><a href="#local-6989586621680377191"><span class="hs-identifier hs-var hs-var">inst</span></a></span></span><span> </span><span class="annot"><span class="annottext">pu
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pDesc :: forall t i. Step t i -&gt; i
</span><a href="NITTA.Model.ProcessorUnits.Types.html#pDesc"><span class="hs-identifier hs-var">pDesc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InstructionStep"><span class="hs-identifier hs-type">InstructionStep</span></a></span><span> </span><span id="local-6989586621680377185"><span class="annot"><span class="annottext">Instruction pu
</span><a href="#local-6989586621680377185"><span class="hs-identifier hs-var">instr</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (Typeable a, Typeable b) =&gt; a -&gt; Maybe b
</span><span class="hs-identifier hs-var">cast</span></span><span> </span><span class="annot"><span class="annottext">Instruction pu
</span><a href="#local-6989586621680377185"><span class="hs-identifier hs-var">instr</span></a></span><span>
</span><span id="line-282"></span><span>        </span><span class="annot"><a href="#local-6989586621680377191"><span class="hs-identifier hs-var">inst</span></a></span><span> </span><span class="annot"><span class="annottext">pu
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Step t (StepInfo v x t)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span class="hs-comment">{- | Shift @nextTick@ value if it is not zero on a specific offset. Use case: The
processor unit has buffered output, so we should provide @oe@ signal for one
tick before data actually send to the bus. That raises the following cases:

1. First usage. We can receive value immediately on nextTick

    @
    tick | Endpoint     | Instruction |
     0   | Target &quot;c&quot;   | WR          | &lt;- nextTick
    @

2. Not first usage. We need to wait for one tick from the last instruction due to the offset between instruction and data transfers.

    @
    tick | Endpoint     | Instruction |
      8  |              | OE          |
      9  | Source [&quot;b&quot;] |             | &lt;- nextTick
     10  | Target &quot;c&quot;   | WR          |
    @
-}</span><span>
</span><span id="line-304"></span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span> </span><span id="withShift"><span class="annot"><span class="annottext">withShift :: a -&gt; a -&gt; a
</span><a href="NITTA.Model.ProcessorUnits.Types.html#withShift"><span class="hs-operator hs-var hs-var">`withShift`</span></a></span></span><span> </span><span id="local-6989586621680377177"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680377177"><span class="hs-identifier hs-var">_offset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span>
</span><span id="line-305"></span><span id="local-6989586621680377176"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680377176"><span class="hs-identifier hs-var">tick</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#withShift"><span class="hs-operator hs-var">`withShift`</span></a></span><span> </span><span id="local-6989586621680377175"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680377175"><span class="hs-identifier hs-var">offset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680377176"><span class="hs-identifier hs-var">tick</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680377175"><span class="hs-identifier hs-var">offset</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-comment">---------------------------------------------------------------------</span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span class="hs-comment">{- | Type class for controllable units. Defines two level of a unit behaviour
representation (see ahead).
-}</span><span>
</span><span id="line-312"></span><span class="hs-keyword">class</span><span> </span><span id="Controllable"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Controllable"><span class="hs-identifier hs-var">Controllable</span></a></span></span><span> </span><span id="local-6989586621680377173"><span class="annot"><a href="#local-6989586621680377173"><span class="hs-identifier hs-type">pu</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-comment">-- Instruction describe unit behaviour on each mUnit cycle. If instruction</span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-comment">-- not defined for some cycles - it should be interpreted as NOP.</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="Instruction"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Instruction"><span class="hs-identifier hs-var">Instruction</span></a></span></span><span> </span><span id="local-6989586621680377173"><span class="annot"><a href="#local-6989586621680377173"><span class="hs-identifier hs-type">pu</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-comment">-- | Microcode desctibe controll signals on each mUnit cycle (without exclusion).</span><span>
</span><span id="line-318"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="Microcode"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Microcode"><span class="hs-identifier hs-var">Microcode</span></a></span></span><span> </span><span id="local-6989586621680377173"><span class="annot"><a href="#local-6989586621680377173"><span class="hs-identifier hs-type">pu</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span>    </span><span class="hs-comment">-- | Zip port signal tags and value.</span><span>
</span><span id="line-321"></span><span>    </span><span id="zipSignalTagsAndValues"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#zipSignalTagsAndValues"><span class="hs-identifier hs-type">zipSignalTagsAndValues</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Ports"><span class="hs-identifier hs-type">Ports</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377173"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Microcode"><span class="hs-identifier hs-type">Microcode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377173"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#SignalTag"><span class="hs-identifier hs-type">SignalTag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#SignalValue"><span class="hs-identifier hs-type">SignalValue</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span>    </span><span class="hs-comment">-- | Get list of used control signal tags.</span><span>
</span><span id="line-324"></span><span>    </span><span id="usedPortTags"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#usedPortTags"><span class="hs-identifier hs-type">usedPortTags</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Ports"><span class="hs-identifier hs-type">Ports</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377173"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#SignalTag"><span class="hs-identifier hs-type">SignalTag</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-comment">-- | Take signal tags from inifinite list of tags.</span><span>
</span><span id="line-327"></span><span>    </span><span id="takePortTags"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#takePortTags"><span class="hs-identifier hs-type">takePortTags</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#SignalTag"><span class="hs-identifier hs-type">SignalTag</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680377173"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Ports"><span class="hs-identifier hs-type">Ports</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680377173"><span class="hs-identifier hs-type">pu</span></a></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="hs-comment">-- | Getting microcode value at a specific time.</span><span>
</span><span id="line-330"></span><span class="hs-keyword">class</span><span> </span><span id="ByTime"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ByTime"><span class="hs-identifier hs-var">ByTime</span></a></span></span><span> </span><span id="local-6989586621680378204"><span class="annot"><a href="#local-6989586621680378204"><span class="hs-identifier hs-type">pu</span></a></span></span><span> </span><span id="local-6989586621680378203"><span class="annot"><a href="#local-6989586621680378203"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621680378204"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680378203"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-331"></span><span>    </span><span id="microcodeAt"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#microcodeAt"><span class="hs-identifier hs-type">microcodeAt</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680378204"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680378203"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Microcode"><span class="hs-identifier hs-type">Microcode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378204"><span class="hs-identifier hs-type">pu</span></a></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-334"></span><span>    </span><span id="local-6989586621680378192"><span id="local-6989586621680378193"><span id="local-6989586621680378194"><span id="local-6989586621680378195"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Instruction"><span class="hs-identifier hs-type">Instruction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378195"><span class="hs-identifier hs-type">pu</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Microcode"><span class="hs-identifier hs-type">Microcode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378195"><span class="hs-identifier hs-type">pu</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ProcessorUnit"><span class="hs-identifier hs-type">ProcessorUnit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378195"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378194"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378193"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378192"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-337"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#UnambiguouslyDecode"><span class="hs-identifier hs-type">UnambiguouslyDecode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378195"><span class="hs-identifier hs-type">pu</span></a></span><span>
</span><span id="line-338"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621680378195"><span class="hs-identifier hs-type">pu</span></a></span><span>
</span><span id="line-339"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-340"></span><span>    </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#ByTime"><span class="hs-identifier hs-type">ByTime</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378195"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378192"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span><span>
</span><span id="line-341"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-342"></span><span>    </span><span id="local-6989586621680377089"><span class="annot"><span class="annottext">microcodeAt :: pu -&gt; t -&gt; Microcode pu
</span><a href="#local-6989586621680377089"><span class="hs-identifier hs-var hs-var hs-var hs-var">microcodeAt</span></a></span></span><span> </span><span id="local-6989586621680377088"><span class="annot"><span class="annottext">pu
</span><a href="#local-6989586621680377088"><span class="hs-identifier hs-var">pu</span></a></span></span><span> </span><span id="local-6989586621680377087"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680377087"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall {u} {v} {x} {t}.
(ProcessorUnit u v x t, Typeable u) =&gt;
u -&gt; t -&gt; [Instruction u]
</span><a href="NITTA.Model.ProcessorUnits.Types.html#extractInstructionAt"><span class="hs-identifier hs-var">extractInstructionAt</span></a></span><span> </span><span class="annot"><span class="annottext">pu
</span><a href="#local-6989586621680377088"><span class="hs-identifier hs-var">pu</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680377087"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-343"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span>
</span><span id="line-344"></span><span>        </span><span class="hs-special">[</span><span id="local-6989586621680377086"><span class="annot"><span class="annottext">Instruction pu
</span><a href="#local-6989586621680377086"><span class="hs-identifier hs-var">instr</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall pu. UnambiguouslyDecode pu =&gt; Instruction pu -&gt; Microcode pu
</span><a href="NITTA.Model.ProcessorUnits.Types.html#decodeInstruction"><span class="hs-identifier hs-var">decodeInstruction</span></a></span><span> </span><span class="annot"><span class="annottext">Instruction pu
</span><a href="#local-6989586621680377086"><span class="hs-identifier hs-var">instr</span></a></span><span>
</span><span id="line-345"></span><span>        </span><span id="local-6989586621680377084"><span class="annot"><span class="annottext">[Instruction pu]
</span><a href="#local-6989586621680377084"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="">[i|instruction collision at #{ t } tick: #{ is } #{ pretty $ process pu }|]</span></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span class="hs-keyword">newtype</span><span> </span><span id="SignalTag"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#SignalTag"><span class="hs-identifier hs-var">SignalTag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SignalTag"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#SignalTag"><span class="hs-identifier hs-var">SignalTag</span></a></span></span><span> </span><span class="hs-special">{</span><span id="signalTag"><span class="annot"><span class="annottext">SignalTag -&gt; Text
</span><a href="NITTA.Model.ProcessorUnits.Types.html#signalTag"><span class="hs-identifier hs-var hs-var">signalTag</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680377075"><span id="local-6989586621680377080"><span class="annot"><span class="annottext">SignalTag -&gt; SignalTag -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SignalTag -&gt; SignalTag -&gt; Bool
$c/= :: SignalTag -&gt; SignalTag -&gt; Bool
== :: SignalTag -&gt; SignalTag -&gt; Bool
$c== :: SignalTag -&gt; SignalTag -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680377044"><span id="local-6989586621680377048"><span id="local-6989586621680377052"><span id="local-6989586621680377056"><span id="local-6989586621680377060"><span id="local-6989586621680377064"><span id="local-6989586621680377068"><span class="annot"><span class="annottext">Eq SignalTag
SignalTag -&gt; SignalTag -&gt; Bool
SignalTag -&gt; SignalTag -&gt; Ordering
SignalTag -&gt; SignalTag -&gt; SignalTag
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: SignalTag -&gt; SignalTag -&gt; SignalTag
$cmin :: SignalTag -&gt; SignalTag -&gt; SignalTag
max :: SignalTag -&gt; SignalTag -&gt; SignalTag
$cmax :: SignalTag -&gt; SignalTag -&gt; SignalTag
&gt;= :: SignalTag -&gt; SignalTag -&gt; Bool
$c&gt;= :: SignalTag -&gt; SignalTag -&gt; Bool
&gt; :: SignalTag -&gt; SignalTag -&gt; Bool
$c&gt; :: SignalTag -&gt; SignalTag -&gt; Bool
&lt;= :: SignalTag -&gt; SignalTag -&gt; Bool
$c&lt;= :: SignalTag -&gt; SignalTag -&gt; Bool
&lt; :: SignalTag -&gt; SignalTag -&gt; Bool
$c&lt; :: SignalTag -&gt; SignalTag -&gt; Bool
compare :: SignalTag -&gt; SignalTag -&gt; Ordering
$ccompare :: SignalTag -&gt; SignalTag -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680377036"><span id="local-6989586621680377039"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#SignalTag"><span class="hs-identifier hs-type">SignalTag</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-350"></span><span>    </span><span id="local-6989586621680377034"><span class="annot"><span class="annottext">show :: SignalTag -&gt; String
</span><a href="#local-6989586621680377034"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ToString a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">toString</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SignalTag -&gt; Text
</span><a href="NITTA.Model.ProcessorUnits.Types.html#signalTag"><span class="hs-identifier hs-var">signalTag</span></a></span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span class="hs-comment">-- | Type class of processor units with control ports.</span><span>
</span><span id="line-353"></span><span class="hs-keyword">class</span><span> </span><span id="Connected"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Connected"><span class="hs-identifier hs-var">Connected</span></a></span></span><span> </span><span id="local-6989586621680377033"><span class="annot"><a href="#local-6989586621680377033"><span class="hs-identifier hs-type">pu</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-354"></span><span>    </span><span class="hs-comment">-- | A processor unit control ports (signals, flags).</span><span>
</span><span id="line-355"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="Ports"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Ports"><span class="hs-identifier hs-var">Ports</span></a></span></span><span> </span><span id="local-6989586621680377033"><span class="annot"><a href="#local-6989586621680377033"><span class="hs-identifier hs-type">pu</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span class="hs-comment">{- | Decoding microcode from a simple instruction (microcode don't change over
time).

TODO: Generalize that class for all process units, including networks.
-}</span><span>
</span><span id="line-362"></span><span class="hs-keyword">class</span><span> </span><span id="UnambiguouslyDecode"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#UnambiguouslyDecode"><span class="hs-identifier hs-var">UnambiguouslyDecode</span></a></span></span><span> </span><span id="local-6989586621680378188"><span class="annot"><a href="#local-6989586621680378188"><span class="hs-identifier hs-type">pu</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-363"></span><span>    </span><span id="decodeInstruction"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#decodeInstruction"><span class="hs-identifier hs-type">decodeInstruction</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Instruction"><span class="hs-identifier hs-type">Instruction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378188"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Microcode"><span class="hs-identifier hs-type">Microcode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378188"><span class="hs-identifier hs-type">pu</span></a></span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="hs-comment">-- | Control line value.</span><span>
</span><span id="line-366"></span><span class="hs-keyword">data</span><span> </span><span id="SignalValue"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#SignalValue"><span class="hs-identifier hs-var">SignalValue</span></a></span></span><span>
</span><span id="line-367"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- | undefined by design (`x`)</span><span>
</span><span id="line-368"></span><span>      </span><span id="Undef"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Undef"><span class="hs-identifier hs-var">Undef</span></a></span></span><span>
</span><span id="line-369"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | boolean (`0` or `1`)</span><span>
</span><span id="line-370"></span><span>      </span><span id="Bool"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Bool"><span class="hs-identifier hs-var">Bool</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-371"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | broken value (`x`) by data colision</span><span>
</span><span id="line-372"></span><span>      </span><span id="BrokenSignal"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#BrokenSignal"><span class="hs-identifier hs-var">BrokenSignal</span></a></span></span><span>
</span><span id="line-373"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680377024"><span id="local-6989586621680377028"><span class="annot"><span class="annottext">SignalValue -&gt; SignalValue -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SignalValue -&gt; SignalValue -&gt; Bool
$c/= :: SignalValue -&gt; SignalValue -&gt; Bool
== :: SignalValue -&gt; SignalValue -&gt; Bool
$c== :: SignalValue -&gt; SignalValue -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#SignalValue"><span class="hs-identifier hs-type">SignalValue</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-376"></span><span>    </span><span id="local-6989586621680377021"><span class="annot"><span class="annottext">def :: SignalValue
</span><a href="#local-6989586621680377021"><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SignalValue
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Undef"><span class="hs-identifier hs-var">Undef</span></a></span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680377016"><span id="local-6989586621680377019"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#SignalValue"><span class="hs-identifier hs-type">SignalValue</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-379"></span><span>    </span><span id="local-6989586621680377015"><span class="annot"><span class="annottext">show :: SignalValue -&gt; String
</span><a href="#local-6989586621680377015"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="annot"><span class="annottext">SignalValue
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Undef"><span class="hs-identifier hs-var">Undef</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;x&quot;</span></span><span>
</span><span id="line-380"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;1&quot;</span></span><span>
</span><span id="line-381"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;0&quot;</span></span><span>
</span><span id="line-382"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SignalValue
</span><a href="NITTA.Model.ProcessorUnits.Types.html#BrokenSignal"><span class="hs-identifier hs-var">BrokenSignal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;B&quot;</span></span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span class="annot"><span class="annottext">SignalValue
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Undef"><span class="hs-identifier hs-var">Undef</span></a></span><span> </span><span id="%2B%2B%2B"><span class="annot"><span class="annottext">+++ :: SignalValue -&gt; SignalValue -&gt; SignalValue
</span><a href="NITTA.Model.ProcessorUnits.Types.html#%2B%2B%2B"><span class="hs-operator hs-var hs-var">+++</span></a></span></span><span> </span><span id="local-6989586621680377014"><span class="annot"><span class="annottext">SignalValue
</span><a href="#local-6989586621680377014"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SignalValue
</span><a href="#local-6989586621680377014"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-385"></span><span id="local-6989586621680377013"><span class="annot"><span class="annottext">SignalValue
</span><a href="#local-6989586621680377013"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="annot"><span class="annottext">SignalValue
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Undef"><span class="hs-identifier hs-var">Undef</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SignalValue
</span><a href="#local-6989586621680377013"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-386"></span><span class="annot"><span class="annottext">SignalValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="annot"><span class="annottext">SignalValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SignalValue
</span><a href="NITTA.Model.ProcessorUnits.Types.html#BrokenSignal"><span class="hs-identifier hs-var">BrokenSignal</span></a></span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span class="hs-comment">------------------------------------------------------------</span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span class="hs-comment">-- | Type class of processor units with IO ports.</span><span>
</span><span id="line-391"></span><span class="hs-keyword">class</span><span> </span><span id="IOConnected"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#IOConnected"><span class="hs-identifier hs-var">IOConnected</span></a></span></span><span> </span><span id="local-6989586621680378187"><span class="annot"><a href="#local-6989586621680378187"><span class="hs-identifier hs-type">pu</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-392"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="IOPorts"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#IOPorts"><span class="hs-identifier hs-var">IOPorts</span></a></span></span><span> </span><span id="local-6989586621680378187"><span class="annot"><a href="#local-6989586621680378187"><span class="hs-identifier hs-type">pu</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span>    </span><span class="hs-comment">-- | External input ports, which go outside of NITTA mUnit.</span><span>
</span><span id="line-395"></span><span>    </span><span id="inputPorts"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#inputPorts"><span class="hs-identifier hs-type">inputPorts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#IOPorts"><span class="hs-identifier hs-type">IOPorts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378187"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S.Set</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InputPortTag"><span class="hs-identifier hs-type">InputPortTag</span></a></span><span>
</span><span id="line-396"></span><span>    </span><span id="local-6989586621680377010"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#inputPorts"><span class="hs-identifier hs-var hs-var">inputPorts</span></a></span><span> </span><span class="annot"><span class="annottext">IOPorts pu
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Set a
</span><span class="hs-identifier hs-var">S.empty</span></span></span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span>    </span><span class="hs-comment">-- | External output ports, which go outside of NITTA mUnit.</span><span>
</span><span id="line-399"></span><span>    </span><span id="outputPorts"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#outputPorts"><span class="hs-identifier hs-type">outputPorts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#IOPorts"><span class="hs-identifier hs-type">IOPorts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378187"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S.Set</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#OutputPortTag"><span class="hs-identifier hs-type">OutputPortTag</span></a></span><span>
</span><span id="line-400"></span><span>    </span><span id="local-6989586621680377007"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#outputPorts"><span class="hs-identifier hs-var hs-var">outputPorts</span></a></span><span> </span><span class="annot"><span class="annottext">IOPorts pu
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Set a
</span><span class="hs-identifier hs-var">S.empty</span></span></span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span>    </span><span class="hs-comment">-- | External output ports, which go outside of NITTA mUnit.</span><span>
</span><span id="line-403"></span><span>    </span><span id="inoutPorts"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#inoutPorts"><span class="hs-identifier hs-type">inoutPorts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#IOPorts"><span class="hs-identifier hs-type">IOPorts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680378187"><span class="hs-identifier hs-type">pu</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S.Set</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InoutPortTag"><span class="hs-identifier hs-type">InoutPortTag</span></a></span><span>
</span><span id="line-404"></span><span>    </span><span id="local-6989586621680377005"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#inoutPorts"><span class="hs-identifier hs-var hs-var">inoutPorts</span></a></span><span> </span><span class="annot"><span class="annottext">IOPorts pu
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Set a
</span><span class="hs-identifier hs-var">S.empty</span></span></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span class="hs-keyword">newtype</span><span> </span><span id="InputPortTag"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InputPortTag"><span class="hs-identifier hs-var">InputPortTag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="InputPortTag"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InputPortTag"><span class="hs-identifier hs-var">InputPortTag</span></a></span></span><span> </span><span class="hs-special">{</span><span id="inputPortTag"><span class="annot"><span class="annottext">InputPortTag -&gt; Text
</span><a href="NITTA.Model.ProcessorUnits.Types.html#inputPortTag"><span class="hs-identifier hs-var hs-var">inputPortTag</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680376997"><span id="local-6989586621680377001"><span class="annot"><span class="annottext">InputPortTag -&gt; InputPortTag -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: InputPortTag -&gt; InputPortTag -&gt; Bool
$c/= :: InputPortTag -&gt; InputPortTag -&gt; Bool
== :: InputPortTag -&gt; InputPortTag -&gt; Bool
$c== :: InputPortTag -&gt; InputPortTag -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680376966"><span id="local-6989586621680376970"><span id="local-6989586621680376974"><span id="local-6989586621680376978"><span id="local-6989586621680376982"><span id="local-6989586621680376986"><span id="local-6989586621680376990"><span class="annot"><span class="annottext">Eq InputPortTag
InputPortTag -&gt; InputPortTag -&gt; Bool
InputPortTag -&gt; InputPortTag -&gt; Ordering
InputPortTag -&gt; InputPortTag -&gt; InputPortTag
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: InputPortTag -&gt; InputPortTag -&gt; InputPortTag
$cmin :: InputPortTag -&gt; InputPortTag -&gt; InputPortTag
max :: InputPortTag -&gt; InputPortTag -&gt; InputPortTag
$cmax :: InputPortTag -&gt; InputPortTag -&gt; InputPortTag
&gt;= :: InputPortTag -&gt; InputPortTag -&gt; Bool
$c&gt;= :: InputPortTag -&gt; InputPortTag -&gt; Bool
&gt; :: InputPortTag -&gt; InputPortTag -&gt; Bool
$c&gt; :: InputPortTag -&gt; InputPortTag -&gt; Bool
&lt;= :: InputPortTag -&gt; InputPortTag -&gt; Bool
$c&lt;= :: InputPortTag -&gt; InputPortTag -&gt; Bool
&lt; :: InputPortTag -&gt; InputPortTag -&gt; Bool
$c&lt; :: InputPortTag -&gt; InputPortTag -&gt; Bool
compare :: InputPortTag -&gt; InputPortTag -&gt; Ordering
$ccompare :: InputPortTag -&gt; InputPortTag -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-407"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680376958"><span id="local-6989586621680376961"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InputPortTag"><span class="hs-identifier hs-type">InputPortTag</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680376956"><span class="annot"><span class="annottext">show :: InputPortTag -&gt; String
</span><a href="#local-6989586621680376956"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ToString a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">toString</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">InputPortTag -&gt; Text
</span><a href="NITTA.Model.ProcessorUnits.Types.html#inputPortTag"><span class="hs-identifier hs-var">inputPortTag</span></a></span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span class="hs-keyword">newtype</span><span> </span><span id="OutputPortTag"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#OutputPortTag"><span class="hs-identifier hs-var">OutputPortTag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="OutputPortTag"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#OutputPortTag"><span class="hs-identifier hs-var">OutputPortTag</span></a></span></span><span> </span><span class="hs-special">{</span><span id="outputPortTag"><span class="annot"><span class="annottext">OutputPortTag -&gt; Text
</span><a href="NITTA.Model.ProcessorUnits.Types.html#outputPortTag"><span class="hs-identifier hs-var hs-var">outputPortTag</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680376948"><span id="local-6989586621680376952"><span class="annot"><span class="annottext">OutputPortTag -&gt; OutputPortTag -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: OutputPortTag -&gt; OutputPortTag -&gt; Bool
$c/= :: OutputPortTag -&gt; OutputPortTag -&gt; Bool
== :: OutputPortTag -&gt; OutputPortTag -&gt; Bool
$c== :: OutputPortTag -&gt; OutputPortTag -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680376917"><span id="local-6989586621680376921"><span id="local-6989586621680376925"><span id="local-6989586621680376929"><span id="local-6989586621680376933"><span id="local-6989586621680376937"><span id="local-6989586621680376941"><span class="annot"><span class="annottext">Eq OutputPortTag
OutputPortTag -&gt; OutputPortTag -&gt; Bool
OutputPortTag -&gt; OutputPortTag -&gt; Ordering
OutputPortTag -&gt; OutputPortTag -&gt; OutputPortTag
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: OutputPortTag -&gt; OutputPortTag -&gt; OutputPortTag
$cmin :: OutputPortTag -&gt; OutputPortTag -&gt; OutputPortTag
max :: OutputPortTag -&gt; OutputPortTag -&gt; OutputPortTag
$cmax :: OutputPortTag -&gt; OutputPortTag -&gt; OutputPortTag
&gt;= :: OutputPortTag -&gt; OutputPortTag -&gt; Bool
$c&gt;= :: OutputPortTag -&gt; OutputPortTag -&gt; Bool
&gt; :: OutputPortTag -&gt; OutputPortTag -&gt; Bool
$c&gt; :: OutputPortTag -&gt; OutputPortTag -&gt; Bool
&lt;= :: OutputPortTag -&gt; OutputPortTag -&gt; Bool
$c&lt;= :: OutputPortTag -&gt; OutputPortTag -&gt; Bool
&lt; :: OutputPortTag -&gt; OutputPortTag -&gt; Bool
$c&lt; :: OutputPortTag -&gt; OutputPortTag -&gt; Bool
compare :: OutputPortTag -&gt; OutputPortTag -&gt; Ordering
$ccompare :: OutputPortTag -&gt; OutputPortTag -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680376909"><span id="local-6989586621680376912"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#OutputPortTag"><span class="hs-identifier hs-type">OutputPortTag</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680376907"><span class="annot"><span class="annottext">show :: OutputPortTag -&gt; String
</span><a href="#local-6989586621680376907"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ToString a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">toString</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">OutputPortTag -&gt; Text
</span><a href="NITTA.Model.ProcessorUnits.Types.html#outputPortTag"><span class="hs-identifier hs-var">outputPortTag</span></a></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="hs-keyword">newtype</span><span> </span><span id="InoutPortTag"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InoutPortTag"><span class="hs-identifier hs-var">InoutPortTag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="InoutPortTag"><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InoutPortTag"><span class="hs-identifier hs-var">InoutPortTag</span></a></span></span><span> </span><span class="hs-special">{</span><span id="inoutPortTag"><span class="annot"><span class="annottext">InoutPortTag -&gt; Text
</span><a href="NITTA.Model.ProcessorUnits.Types.html#inoutPortTag"><span class="hs-identifier hs-var hs-var">inoutPortTag</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680376899"><span id="local-6989586621680376903"><span class="annot"><span class="annottext">InoutPortTag -&gt; InoutPortTag -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: InoutPortTag -&gt; InoutPortTag -&gt; Bool
$c/= :: InoutPortTag -&gt; InoutPortTag -&gt; Bool
== :: InoutPortTag -&gt; InoutPortTag -&gt; Bool
$c== :: InoutPortTag -&gt; InoutPortTag -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680376868"><span id="local-6989586621680376872"><span id="local-6989586621680376876"><span id="local-6989586621680376880"><span id="local-6989586621680376884"><span id="local-6989586621680376888"><span id="local-6989586621680376892"><span class="annot"><span class="annottext">Eq InoutPortTag
InoutPortTag -&gt; InoutPortTag -&gt; Bool
InoutPortTag -&gt; InoutPortTag -&gt; Ordering
InoutPortTag -&gt; InoutPortTag -&gt; InoutPortTag
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: InoutPortTag -&gt; InoutPortTag -&gt; InoutPortTag
$cmin :: InoutPortTag -&gt; InoutPortTag -&gt; InoutPortTag
max :: InoutPortTag -&gt; InoutPortTag -&gt; InoutPortTag
$cmax :: InoutPortTag -&gt; InoutPortTag -&gt; InoutPortTag
&gt;= :: InoutPortTag -&gt; InoutPortTag -&gt; Bool
$c&gt;= :: InoutPortTag -&gt; InoutPortTag -&gt; Bool
&gt; :: InoutPortTag -&gt; InoutPortTag -&gt; Bool
$c&gt; :: InoutPortTag -&gt; InoutPortTag -&gt; Bool
&lt;= :: InoutPortTag -&gt; InoutPortTag -&gt; Bool
$c&lt;= :: InoutPortTag -&gt; InoutPortTag -&gt; Bool
&lt; :: InoutPortTag -&gt; InoutPortTag -&gt; Bool
$c&lt; :: InoutPortTag -&gt; InoutPortTag -&gt; Bool
compare :: InoutPortTag -&gt; InoutPortTag -&gt; Ordering
$ccompare :: InoutPortTag -&gt; InoutPortTag -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680376860"><span id="local-6989586621680376863"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#InoutPortTag"><span class="hs-identifier hs-type">InoutPortTag</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680376858"><span class="annot"><span class="annottext">show :: InoutPortTag -&gt; String
</span><a href="#local-6989586621680376858"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ToString a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">toString</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">InoutPortTag -&gt; Text
</span><a href="NITTA.Model.ProcessorUnits.Types.html#inoutPortTag"><span class="hs-identifier hs-var">inoutPortTag</span></a></span><span>
</span><span id="line-414"></span></pre></body></html>