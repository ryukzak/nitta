<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE NoMonomorphismRestriction #-}</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-comment">{- |
Module      : NITTA.Synthesis.Types
Description : Synthesis tree representation
Copyright   : (c) Aleksandr Penskoi, 2021
License     : BSD3
Maintainer  : aleksandr.penskoi@gmail.com
Stability   : experimental

Synthesis can be represented as a graph (tree), where each 'Node' describes the
target system 'ModelState' and each 'Edge' synthesis decision.

A synthesis graph is very large and calculating and storing it in memory is very
bad idea. Also, working with synthesis graph usually making from the specific
node, not from the root. As a result, synthesis graph design as a explicit lazy
mutable structure implemented by 'TVar'.

From this point of view, the synthesis process is a finding of the best tree
leaf (lowest process duration for finished synthesis), and the best synthesis
method - a method which directly walks over the tree to the best leaf without
wrong steps.
-}</span><span>
</span><span id="line-29"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">NITTA.Synthesis.Types</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisDecisionCls"><span class="hs-identifier">SynthesisDecisionCls</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="NITTA.Synthesis.Types.html#Tree"><span class="hs-identifier">Tree</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisDecision"><span class="hs-identifier">SynthesisDecision</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisState"><span class="hs-identifier">SynthesisState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier">SID</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><a href="NITTA.Synthesis.Types.html#DefTree"><span class="hs-identifier">DefTree</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisMethod"><span class="hs-identifier">SynthesisMethod</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="NITTA.Synthesis.Types.html#%3C%3F%3E"><span class="hs-operator">(&lt;?&gt;)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="NITTA.Synthesis.Types.html#targetUnit"><span class="hs-identifier">targetUnit</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="NITTA.Synthesis.Types.html#targetDFG"><span class="hs-identifier">targetDFG</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent.STM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">TMVar</span></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ToJSON</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">toJSON</span></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Default</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.Split</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html"><span class="hs-identifier">NITTA.Intermediate.Types</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.Networks.Bus.html"><span class="hs-identifier">NITTA.Model.Networks.Bus</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.Problems.Bind.html"><span class="hs-identifier">NITTA.Model.Problems.Bind</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.Problems.Dataflow.html"><span class="hs-identifier">NITTA.Model.Problems.Dataflow</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.Problems.Refactor.html"><span class="hs-identifier">NITTA.Model.Problems.Refactor</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.Problems.ViewHelper.html"><span class="hs-identifier">NITTA.Model.Problems.ViewHelper</span></a></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.TargetSystem.html"><span class="hs-identifier">NITTA.Model.TargetSystem</span></a></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.Time.html"><span class="hs-identifier">NITTA.Model.Time</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.UIBackend.ViewHelperCls.html"><span class="hs-identifier">NITTA.UIBackend.ViewHelperCls</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Utils.Base.html"><span class="hs-identifier">NITTA.Utils.Base</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Servant</span></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-comment">-- |Default synthesis tree type.</span><span>
</span><span id="line-62"></span><span class="hs-keyword">type</span><span> </span><span id="DefTree"><span class="annot"><a href="NITTA.Synthesis.Types.html#DefTree"><span class="hs-identifier hs-var">DefTree</span></a></span></span><span> </span><span id="local-6989586621680148725"><span class="annot"><a href="#local-6989586621680148725"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680148724"><span class="annot"><a href="#local-6989586621680148724"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680148723"><span class="annot"><a href="#local-6989586621680148723"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621680148722"><span class="annot"><a href="#local-6989586621680148722"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-63"></span><span>    </span><span class="annot"><a href="NITTA.Synthesis.Types.html#Tree"><span class="hs-identifier hs-type">Tree</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.TargetSystem.html#TargetSystem"><span class="hs-identifier hs-type">TargetSystem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.Networks.Bus.html#BusNetwork"><span class="hs-identifier hs-type">BusNetwork</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148725"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148724"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148723"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148722"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680148725"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148724"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148723"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148722"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680148725"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148724"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148723"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148722"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-comment">{- |The synthesis method is a function, which manipulates a synthesis tree. It
receives a node and explores it deeply by IO.
-}</span><span>
</span><span id="line-68"></span><span class="hs-keyword">type</span><span> </span><span id="SynthesisMethod"><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisMethod"><span class="hs-identifier hs-var">SynthesisMethod</span></a></span></span><span> </span><span id="local-6989586621680148720"><span class="annot"><a href="#local-6989586621680148720"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680148719"><span class="annot"><a href="#local-6989586621680148719"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680148718"><span class="annot"><a href="#local-6989586621680148718"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621680148717"><span class="annot"><a href="#local-6989586621680148717"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#DefTree"><span class="hs-identifier hs-type">DefTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148720"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148719"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148718"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148717"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Synthesis.Types.html#DefTree"><span class="hs-identifier hs-type">DefTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148720"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148719"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148718"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148717"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-comment">{- |Synthesis node ID. ID is a relative path, encoded as a sequence of an option
index.
-}</span><span>
</span><span id="line-73"></span><span class="hs-keyword">newtype</span><span> </span><span id="SID"><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-var">SID</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SID"><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-var">SID</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">]</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-comment">-- |SID separator for @Show SID@ and @Read SID@.</span><span>
</span><span id="line-76"></span><span id="sidSep"><span class="annot"><span class="annottext">sidSep :: Char
</span><a href="NITTA.Synthesis.Types.html#sidSep"><span class="hs-identifier hs-var hs-var">sidSep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-char">'-'</span></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680148710"><span id="local-6989586621680148713"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-79"></span><span>    </span><span id="local-6989586621680148708"><span class="annot"><span class="annottext">show :: SID -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Char
</span><a href="NITTA.Synthesis.Types.html#sidSep"><span class="hs-identifier hs-var">sidSep</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-80"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span> </span><span id="local-6989586621680148706"><span class="annot"><span class="annottext">is :: [Int]
</span><a href="#local-6989586621680148706"><span class="hs-identifier hs-var">is</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; String
forall a. Show a =&gt; [a] -&gt; String
</span><a href="#local-6989586621680148705"><span class="hs-identifier hs-var">show'</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621680148706"><span class="hs-identifier hs-var">is</span></a></span><span>
</span><span id="line-81"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-82"></span><span>            </span><span id="local-6989586621680148705"><span class="annot"><span class="annottext">show' :: [a] -&gt; String
</span><a href="#local-6989586621680148705"><span class="hs-identifier hs-var hs-var">show'</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-83"></span><span>            </span><span class="annot"><a href="#local-6989586621680148705"><span class="hs-identifier hs-var">show'</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680148704"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621680148704"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680148703"><span class="annot"><span class="annottext">xs :: [a]
</span><a href="#local-6989586621680148703"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="NITTA.Synthesis.Types.html#sidSep"><span class="hs-identifier hs-var">sidSep</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680148704"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; String
</span><a href="#local-6989586621680148705"><span class="hs-identifier hs-var">show'</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621680148703"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680148696"><span id="local-6989586621680148698"><span id="local-6989586621680148700"><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-86"></span><span>    </span><span id="local-6989586621680148694"><span class="annot"><span class="annottext">readsPrec :: Int -&gt; ReadS SID
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">readsPrec</span></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621680148692"><span class="annot"><span class="annottext">x :: Char
</span><a href="#local-6989586621680148692"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680148692"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="NITTA.Synthesis.Types.html#sidSep"><span class="hs-identifier hs-var">sidSep</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int] -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-var">SID</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">readsPrec</span></span><span> </span><span id="local-6989586621680148691"><span class="annot"><span class="annottext">d :: Int
</span><a href="#local-6989586621680148691"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680148690"><span class="annot"><span class="annottext">x :: Char
</span><a href="#local-6989586621680148690"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680148689"><span class="annot"><span class="annottext">xs :: String
</span><a href="#local-6989586621680148689"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680148690"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="NITTA.Synthesis.Types.html#sidSep"><span class="hs-identifier hs-var">sidSep</span></a></span><span>
</span><span id="line-89"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680148688"><span class="annot"><span class="annottext">is :: [[(Int, String)]]
</span><a href="#local-6989586621680148688"><span class="hs-identifier hs-var hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; [(Int, String)]) -&gt; [String] -&gt; [[(Int, String)]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; String -&gt; [(Int, String)]
forall a. Read a =&gt; Int -&gt; ReadS a
</span><span class="hs-identifier hs-var">readsPrec</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680148691"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([String] -&gt; [[(Int, String)]]) -&gt; [String] -&gt; [[(Int, String)]]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [String]
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; [[a]]
</span><span class="hs-identifier hs-var">splitOn</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Char
</span><a href="NITTA.Synthesis.Types.html#sidSep"><span class="hs-identifier hs-var">sidSep</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680148689"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-90"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">([(Int, String)] -&gt; Bool) -&gt; [[(Int, String)]] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">[(Int, String)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[[(Int, String)]]
</span><a href="#local-6989586621680148688"><span class="hs-identifier hs-var">is</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-91"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int] -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-var">SID</span></a></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; SID) -&gt; [Int] -&gt; SID
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Int, String) -&gt; Int) -&gt; [(Int, String)] -&gt; [Int]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Int, String) -&gt; Int
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">([(Int, String)] -&gt; [Int]) -&gt; [(Int, String)] -&gt; [Int]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[[(Int, String)]] -&gt; [(Int, String)]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">[[(Int, String)]]
</span><a href="#local-6989586621680148688"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-92"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">readsPrec</span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-95"></span><span>    </span><span id="local-6989586621680148680"><span class="annot"><span class="annottext">def :: SID
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-var">SID</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680148674"><span id="local-6989586621680148676"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span> </span><span id="local-6989586621680148672"><span class="annot"><span class="annottext">a :: [Int]
</span><a href="#local-6989586621680148672"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680148671"><span class="annot"><span class="annottext">&lt;&gt; :: SID -&gt; SID -&gt; SID
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span> </span><span id="local-6989586621680148670"><span class="annot"><span class="annottext">b :: [Int]
</span><a href="#local-6989586621680148670"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-var">SID</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621680148672"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; [Int] -&gt; [Int]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621680148670"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680148665"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-101"></span><span>    </span><span id="local-6989586621680148663"><span class="annot"><span class="annottext">mempty :: SID
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-var">SID</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-102"></span><span>    </span><span id="local-6989586621680148662"><span class="annot"><span class="annottext">mappend :: SID -&gt; SID -&gt; SID
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SID -&gt; SID -&gt; SID
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680148655"><span id="local-6989586621680148657"><span id="local-6989586621680148659"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-105"></span><span>    </span><span id="local-6989586621680148653"><span class="annot"><span class="annottext">toJSON :: SID -&gt; Value
</span><a href="#local-6989586621680148653"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span id="local-6989586621680148652"><span class="annot"><span class="annottext">sid :: SID
</span><a href="#local-6989586621680148652"><span class="hs-identifier hs-var">sid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Value) -&gt; String -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SID -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680148652"><span class="hs-identifier hs-var">sid</span></a></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680148647"><span id="local-6989586621680148649"><span class="annot"><span class="hs-identifier hs-type">FromHttpApiData</span></span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-108"></span><span>    </span><span id="local-6989586621680148645"><span class="annot"><span class="annottext">parseUrlPiece :: Text -&gt; Either Text SID
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseUrlPiece</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SID -&gt; Either Text SID
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(SID -&gt; Either Text SID)
-&gt; (Text -&gt; SID) -&gt; Text -&gt; Either Text SID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; SID
forall a. Read a =&gt; Text -&gt; a
</span><a href="NITTA.Utils.Base.html#readText"><span class="hs-identifier hs-var">readText</span></a></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-comment">-- |Synthesis tree</span><span>
</span><span id="line-111"></span><span class="hs-keyword">data</span><span> </span><span id="Tree"><span class="annot"><a href="NITTA.Synthesis.Types.html#Tree"><span class="hs-identifier hs-var">Tree</span></a></span></span><span> </span><span id="local-6989586621680148825"><span class="annot"><a href="#local-6989586621680148825"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621680148824"><span class="annot"><a href="#local-6989586621680148824"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680148823"><span class="annot"><a href="#local-6989586621680148823"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680148822"><span class="annot"><a href="#local-6989586621680148822"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621680148821"><span class="annot"><a href="#local-6989586621680148821"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Tree"><span class="annot"><a href="NITTA.Synthesis.Types.html#Tree"><span class="hs-identifier hs-var">Tree</span></a></span></span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="sID"><span class="annot"><span class="annottext">Tree m tag v x t -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#sID"><span class="hs-identifier hs-var hs-var">sID</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sState"><span class="annot"><span class="annottext">Tree m tag v x t -&gt; SynthesisState m tag v x t
</span><a href="NITTA.Synthesis.Types.html#sState"><span class="hs-identifier hs-var hs-var">sState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisState"><span class="hs-identifier hs-type">SynthesisState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148825"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148824"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148823"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148822"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148821"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sDecision"><span class="annot"><span class="annottext">Tree m tag v x t
-&gt; SynthesisDecision (SynthesisState m tag v x t) m
</span><a href="NITTA.Synthesis.Types.html#sDecision"><span class="hs-identifier hs-var hs-var">sDecision</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisDecision"><span class="hs-identifier hs-type">SynthesisDecision</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisState"><span class="hs-identifier hs-type">SynthesisState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148825"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148824"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148823"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148822"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148821"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680148825"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- |lazy mutable field with different synthesis options and sub nodes</span><span>
</span><span id="line-116"></span><span>      </span><span id="sSubForestVar"><span class="annot"><span class="annottext">Tree m tag v x t -&gt; TMVar [Tree m tag v x t]
</span><a href="NITTA.Synthesis.Types.html#sSubForestVar"><span class="hs-identifier hs-var hs-var">sSubForestVar</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TMVar</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Synthesis.Types.html#Tree"><span class="hs-identifier hs-type">Tree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148825"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148824"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148823"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148822"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148821"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span id="targetUnit"><span class="annot"><span class="annottext">targetUnit :: Tree (TargetSystem c tag v x t) tag v x t -&gt; c
</span><a href="NITTA.Synthesis.Types.html#targetUnit"><span class="hs-identifier hs-var hs-var">targetUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TargetSystem c tag v x t -&gt; c
forall u tag v x t. TargetSystem u tag v x t -&gt; u
</span><a href="NITTA.Model.TargetSystem.html#mUnit"><span class="hs-identifier hs-var hs-var">mUnit</span></a></span><span> </span><span class="annot"><span class="annottext">(TargetSystem c tag v x t -&gt; c)
-&gt; (Tree (TargetSystem c tag v x t) tag v x t
    -&gt; TargetSystem c tag v x t)
-&gt; Tree (TargetSystem c tag v x t) tag v x t
-&gt; c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SynthesisState (TargetSystem c tag v x t) tag v x t
-&gt; TargetSystem c tag v x t
forall m tag v x t. SynthesisState m tag v x t -&gt; m
</span><a href="NITTA.Synthesis.Types.html#sTarget"><span class="hs-identifier hs-var hs-var">sTarget</span></a></span><span> </span><span class="annot"><span class="annottext">(SynthesisState (TargetSystem c tag v x t) tag v x t
 -&gt; TargetSystem c tag v x t)
-&gt; (Tree (TargetSystem c tag v x t) tag v x t
    -&gt; SynthesisState (TargetSystem c tag v x t) tag v x t)
-&gt; Tree (TargetSystem c tag v x t) tag v x t
-&gt; TargetSystem c tag v x t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Tree (TargetSystem c tag v x t) tag v x t
-&gt; SynthesisState (TargetSystem c tag v x t) tag v x t
forall m tag v x t. Tree m tag v x t -&gt; SynthesisState m tag v x t
</span><a href="NITTA.Synthesis.Types.html#sState"><span class="hs-identifier hs-var hs-var">sState</span></a></span><span>
</span><span id="line-120"></span><span id="targetDFG"><span class="annot"><span class="annottext">targetDFG :: Tree (TargetSystem u tag v x t) tag v x t -&gt; DataFlowGraph v x
</span><a href="NITTA.Synthesis.Types.html#targetDFG"><span class="hs-identifier hs-var hs-var">targetDFG</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TargetSystem u tag v x t -&gt; DataFlowGraph v x
forall u tag v x t. TargetSystem u tag v x t -&gt; DataFlowGraph v x
</span><a href="NITTA.Model.TargetSystem.html#mDataFlowGraph"><span class="hs-identifier hs-var hs-var">mDataFlowGraph</span></a></span><span> </span><span class="annot"><span class="annottext">(TargetSystem u tag v x t -&gt; DataFlowGraph v x)
-&gt; (Tree (TargetSystem u tag v x t) tag v x t
    -&gt; TargetSystem u tag v x t)
-&gt; Tree (TargetSystem u tag v x t) tag v x t
-&gt; DataFlowGraph v x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SynthesisState (TargetSystem u tag v x t) tag v x t
-&gt; TargetSystem u tag v x t
forall m tag v x t. SynthesisState m tag v x t -&gt; m
</span><a href="NITTA.Synthesis.Types.html#sTarget"><span class="hs-identifier hs-var hs-var">sTarget</span></a></span><span> </span><span class="annot"><span class="annottext">(SynthesisState (TargetSystem u tag v x t) tag v x t
 -&gt; TargetSystem u tag v x t)
-&gt; (Tree (TargetSystem u tag v x t) tag v x t
    -&gt; SynthesisState (TargetSystem u tag v x t) tag v x t)
-&gt; Tree (TargetSystem u tag v x t) tag v x t
-&gt; TargetSystem u tag v x t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Tree (TargetSystem u tag v x t) tag v x t
-&gt; SynthesisState (TargetSystem u tag v x t) tag v x t
forall m tag v x t. Tree m tag v x t -&gt; SynthesisState m tag v x t
</span><a href="NITTA.Synthesis.Types.html#sState"><span class="hs-identifier hs-var hs-var">sState</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-keyword">data</span><span> </span><span id="SynthesisDecision"><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisDecision"><span class="hs-identifier hs-var">SynthesisDecision</span></a></span></span><span> </span><span id="local-6989586621680148633"><span class="annot"><a href="#local-6989586621680148633"><span class="hs-identifier hs-type">ctx</span></a></span></span><span> </span><span id="local-6989586621680148632"><span class="annot"><a href="#local-6989586621680148632"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>    </span><span id="local-6989586621680148630"><span id="local-6989586621680148631"><span id="Root"><span class="annot"><a href="NITTA.Synthesis.Types.html#Root"><span class="hs-identifier hs-var">Root</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisDecision"><span class="hs-identifier hs-type">SynthesisDecision</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148631"><span class="hs-identifier hs-type">ctx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148630"><span class="hs-identifier hs-type">m</span></a></span></span></span><span>
</span><span id="line-124"></span><span>    </span><span id="local-6989586621680148624"><span id="local-6989586621680148625"><span id="local-6989586621680148626"><span id="local-6989586621680148627"><span id="local-6989586621680148628"><span id="SynthesisDecision"><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisDecision"><span class="hs-identifier hs-var">SynthesisDecision</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-125"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621680148628"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisDecisionCls"><span class="hs-identifier hs-type">SynthesisDecisionCls</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148627"><span class="hs-identifier hs-type">ctx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148626"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148625"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148624"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148628"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621680148624"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621680148628"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.UIBackend.ViewHelperCls.html#Viewable"><span class="hs-identifier hs-type">Viewable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148624"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="NITTA.Model.Problems.ViewHelper.html#DecisionView"><span class="hs-identifier hs-type">DecisionView</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-126"></span><span>        </span><span class="hs-special">{</span><span id="option"><span class="annot"><span class="annottext">()
</span><a href="NITTA.Synthesis.Types.html#option"><span class="hs-identifier hs-var hs-var">option</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680148625"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">,</span><span> </span><span id="decision"><span class="annot"><span class="annottext">()
</span><a href="NITTA.Synthesis.Types.html#decision"><span class="hs-identifier hs-var hs-var">decision</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680148624"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span id="metrics"><span class="annot"><span class="annottext">()
</span><a href="NITTA.Synthesis.Types.html#metrics"><span class="hs-identifier hs-var hs-var">metrics</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680148628"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span id="score"><span class="annot"><span class="annottext">SynthesisDecision ctx m -&gt; Float
</span><a href="NITTA.Synthesis.Types.html#score"><span class="hs-identifier hs-var hs-var">score</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-127"></span><span>        </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisDecision"><span class="hs-identifier hs-type">SynthesisDecision</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148627"><span class="hs-identifier hs-type">ctx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148626"><span class="hs-identifier hs-type">m</span></a></span></span></span></span></span></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-keyword">class</span><span> </span><span id="SynthesisDecisionCls"><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisDecisionCls"><span class="hs-identifier hs-var">SynthesisDecisionCls</span></a></span></span><span> </span><span id="local-6989586621680148616"><span class="annot"><a href="#local-6989586621680148616"><span class="hs-identifier hs-type">ctx</span></a></span></span><span> </span><span id="local-6989586621680148615"><span class="annot"><a href="#local-6989586621680148615"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621680148614"><span class="annot"><a href="#local-6989586621680148614"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680148613"><span class="annot"><a href="#local-6989586621680148613"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span id="local-6989586621680148612"><span class="annot"><a href="#local-6989586621680148612"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621680148616"><span class="hs-identifier hs-type">ctx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148614"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680148615"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148613"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148612"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-130"></span><span>    </span><span id="decisions"><span class="annot"><a href="NITTA.Synthesis.Types.html#decisions"><span class="hs-identifier hs-type">decisions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680148616"><span class="hs-identifier hs-type">ctx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680148614"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680148613"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680148615"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-131"></span><span>    </span><span id="parameters"><span class="annot"><a href="NITTA.Synthesis.Types.html#parameters"><span class="hs-identifier hs-type">parameters</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680148616"><span class="hs-identifier hs-type">ctx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680148614"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680148613"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680148612"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-132"></span><span>    </span><span id="estimate"><span class="annot"><a href="NITTA.Synthesis.Types.html#estimate"><span class="hs-identifier hs-type">estimate</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680148616"><span class="hs-identifier hs-type">ctx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680148614"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680148613"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680148612"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-keyword">data</span><span> </span><span id="SynthesisState"><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisState"><span class="hs-identifier hs-var">SynthesisState</span></a></span></span><span> </span><span id="local-6989586621680148830"><span class="annot"><a href="#local-6989586621680148830"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621680148829"><span class="annot"><a href="#local-6989586621680148829"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680148828"><span class="annot"><a href="#local-6989586621680148828"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680148827"><span class="annot"><a href="#local-6989586621680148827"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621680148826"><span class="annot"><a href="#local-6989586621680148826"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SynthesisState"><span class="annot"><a href="NITTA.Synthesis.Types.html#SynthesisState"><span class="hs-identifier hs-var">SynthesisState</span></a></span></span><span>
</span><span id="line-135"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="sParent"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; Maybe (Tree m tag v x t)
</span><a href="NITTA.Synthesis.Types.html#sParent"><span class="hs-identifier hs-var hs-var">sParent</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Synthesis.Types.html#Tree"><span class="hs-identifier hs-type">Tree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148830"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148829"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148828"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148827"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148826"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sTarget"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; m
</span><a href="NITTA.Synthesis.Types.html#sTarget"><span class="hs-identifier hs-var hs-var">sTarget</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680148830"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- |bind options cache</span><span>
</span><span id="line-138"></span><span>      </span><span id="sBindOptions"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; [Bind tag v x]
</span><a href="NITTA.Synthesis.Types.html#sBindOptions"><span class="hs-identifier hs-var hs-var">sBindOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Model.Problems.Bind.html#Bind"><span class="hs-identifier hs-type">Bind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148829"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148828"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148827"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sResolveDeadlockOptions"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; [ResolveDeadlock v x]
</span><a href="NITTA.Synthesis.Types.html#sResolveDeadlockOptions"><span class="hs-identifier hs-var hs-var">sResolveDeadlockOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Model.Problems.Refactor.ResolveDeadlock.html#ResolveDeadlock"><span class="hs-identifier hs-type">ResolveDeadlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148828"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148827"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sOptimizeAccumOptions"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; [OptimizeAccum v x]
</span><a href="NITTA.Synthesis.Types.html#sOptimizeAccumOptions"><span class="hs-identifier hs-var hs-var">sOptimizeAccumOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Model.Problems.Refactor.OptimizeAccum.html#OptimizeAccum"><span class="hs-identifier hs-type">OptimizeAccum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148828"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148827"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sConstantFoldingOptions"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; [ConstantFolding v x]
</span><a href="NITTA.Synthesis.Types.html#sConstantFoldingOptions"><span class="hs-identifier hs-var hs-var">sConstantFoldingOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Model.Problems.Refactor.ConstantFolding.html#ConstantFolding"><span class="hs-identifier hs-type">ConstantFolding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148828"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148827"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sBreakLoopOptions"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; [BreakLoop v x]
</span><a href="NITTA.Synthesis.Types.html#sBreakLoopOptions"><span class="hs-identifier hs-var hs-var">sBreakLoopOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Model.Problems.Refactor.BreakLoop.html#BreakLoop"><span class="hs-identifier hs-type">BreakLoop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148828"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148827"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- |dataflow options cache</span><span>
</span><span id="line-144"></span><span>      </span><span id="sDataflowOptions"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; [DataflowSt tag v (TimeConstraint t)]
</span><a href="NITTA.Synthesis.Types.html#sDataflowOptions"><span class="hs-identifier hs-var hs-var">sDataflowOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Model.Problems.Dataflow.html#DataflowSt"><span class="hs-identifier hs-type">DataflowSt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148829"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148828"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.Time.html#TimeConstraint"><span class="hs-identifier hs-type">TimeConstraint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148826"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- |a map from functions to possible processor unit tags</span><span>
</span><span id="line-146"></span><span>      </span><span id="bindingAlternative"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; Map (F v x) [tag]
</span><a href="NITTA.Synthesis.Types.html#bindingAlternative"><span class="hs-identifier hs-var hs-var">bindingAlternative</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148828"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148827"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680148829"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- |a function set, which binding may cause dead lock</span><span>
</span><span id="line-148"></span><span>      </span><span id="possibleDeadlockBinds"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; Set (F v x)
</span><a href="NITTA.Synthesis.Types.html#possibleDeadlockBinds"><span class="hs-identifier hs-var hs-var">possibleDeadlockBinds</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148828"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680148827"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- |if algorithm will be represented as a graph, where nodes -</span><span>
</span><span id="line-150"></span><span>      </span><span class="hs-comment">-- variables of not binded functions, edges - casuality, wave is a</span><span>
</span><span id="line-151"></span><span>      </span><span class="hs-comment">-- minimal number of a step from an initial node to selected</span><span>
</span><span id="line-152"></span><span>      </span><span id="bindWaves"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; Map v Int
</span><a href="NITTA.Synthesis.Types.html#bindWaves"><span class="hs-identifier hs-var hs-var">bindWaves</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621680148828"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- |number of dataflow options</span><span>
</span><span id="line-154"></span><span>      </span><span id="numberOfDataflowOptions"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; Int
</span><a href="NITTA.Synthesis.Types.html#numberOfDataflowOptions"><span class="hs-identifier hs-var hs-var">numberOfDataflowOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- |a variable set, which can be transferred on the current</span><span>
</span><span id="line-156"></span><span>      </span><span class="hs-comment">-- synthesis step</span><span>
</span><span id="line-157"></span><span>      </span><span id="transferableVars"><span class="annot"><span class="annottext">SynthesisState m tag v x t -&gt; Set v
</span><a href="NITTA.Synthesis.Types.html#transferableVars"><span class="hs-identifier hs-var hs-var">transferableVars</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S.Set</span></span><span> </span><span class="annot"><a href="#local-6989586621680148828"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-comment">-- * Utils</span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span id="%3C%3F%3E"><span class="annot"><span class="annottext">&lt;?&gt; :: Bool -&gt; p -&gt; p
</span><a href="NITTA.Synthesis.Types.html#%3C%3F%3E"><span class="hs-operator hs-var hs-var">&lt;?&gt;</span></a></span></span><span> </span><span id="local-6989586621680148595"><span class="annot"><span class="annottext">v :: p
</span><a href="#local-6989586621680148595"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621680148595"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-163"></span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#%3C%3F%3E"><span class="hs-operator hs-var">&lt;?&gt;</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-164"></span></pre></body></html>